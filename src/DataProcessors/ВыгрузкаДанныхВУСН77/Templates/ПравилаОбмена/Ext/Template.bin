<ПравилаОбмена>
	<ВерсияФормата>2.01</ВерсияФормата>
	<Ид>7e0d2b90-9da4-4fc0-a622-e4b42acf053a    </Ид>
	<Наименование>УправлениеТорговлей 1.3--&gt; Упрощенная система налогообложения, ред. 1.3</Наименование>
	<ДатаВремяСоздания>2009-06-29T12:57:46</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="10.3.8.2" СинонимКонфигурации="Управление торговлей, редакция 10.3">УправлениеТорговлей</Источник>
	<Приемник ВерсияПлатформы="7.7" ВерсияКонфигурации="" СинонимКонфигурации="">Упрощенная система налогообложения, ред. 1.3</Приемник>
	<Параметры/>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>100</Порядок>
		</Группа>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>200</Порядок>
			<Группа>
				<Код>Поступление</Код>
				<Наименование>Поступление</Наименование>
				<Порядок>300</Порядок>
				<Правило>
					<Код>ПоступлениеМПЗвНТТ</Код>
					<Наименование>ДокументСсылка.ПоступлениеТоваровУслугВНеавтоматизированнуюТорговуюТочку --&gt; ДокументСсылка.Поступле</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Если Источник.Товары.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;
Если Источник.ВидОперации = Перечисления.ВидыОперацийПоступлениеТоваровУслугВНТТ.ВнутреннееПеремещение Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ИмяПКО;</ПередВыгрузкой>
					<Источник>ДокументСсылка.ПоступлениеТоваровУслугВНТТ</Источник>
					<Приемник>ДокументСсылка.ПоступлениеМПЗ</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = ПолучитьПрефиксЧислоНомера(Источник.Номер,, "Число");
Значение = ДобавитьКПрефиксу(Значение, "ПP", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Измерение" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Измерение" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>КурсВзаиморасчетов --&gt; Курс</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ДатаВходящегоДокумента --&gt; ДатаДокВходящий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаДокВходящий" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>НомерВходящегоДокумента --&gt; НомерДокВходящий</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерДокВходящий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>Товары --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Измерение" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;

Если (Источник.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом) Тогда
	ИсходящиеДанные.Вставить("ТипНоменклатуры", "ТоварНаКомиссии");
Иначе
	ИсходящиеДанные.Вставить("ТипНоменклатуры", "Товар");
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Измерение" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;
Значение = ?(ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент &lt;&gt; 0, 
			Значение / (ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент), Значение);</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Измерение" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>СуммаНДС --&gt; НДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="СуммаНДС" Вид="Ресурс" Тип="Число"/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Всего</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Всего" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; ГТД</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<КодПравилаКонвертации>ГТД                                               </КодПравилаКонвертации>
								<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НомерГТД) Тогда
	 Отказ = Истина;
Иначе
	ИсходящиеДанные = Новый Структура;
	Если Не ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.СтранаПроисхождения) Тогда
		ИсходящиеДанные.Вставить("СтранаПроисхождения", "");
	Иначе
		ИсходящиеДанные.Вставить("СтранаПроисхождения", ОбъектКоллекции.Номенклатура.СтранаПроисхождения);
	КонецЕсли;
	Значение = ОбъектКоллекции.Номенклатура.НомерГТД;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПоступлениеМПЗ</Код>
					<Наименование>ДокументСсылка.ПоступлениеТоваров --&gt; ДокументСсылка.ПоступлениеМПЗ</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>Если Источник.Товары.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ИмяПКО;</ПередВыгрузкой>
					<Источник>ДокументСсылка.ПоступлениеТоваровУслуг</Источник>
					<Приемник>ДокументСсылка.ПоступлениеМПЗ</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = ПолучитьПрефиксЧислоНомера(Источник.Номер,, "Число");
Значение = ДобавитьКПрефиксу(Значение, "П", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>КурсВзаиморасчетов --&gt; Курс</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>НомерВходящегоДокумента --&gt; НомерДокВходящий</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерДокВходящий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ДатаВходящегоДокумента --&gt; ДатаДокВходящий</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаДокВходящий" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>Товары --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;

Если (Источник.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом) Тогда
	ИсходящиеДанные.Вставить("ТипНоменклатуры", "ТоварНаКомиссии");
Иначе
	ИсходящиеДанные.Вставить("ТипНоменклатуры", "Товар");
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>Цена --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Цена" Вид="Измерение" Тип="Число"/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;
Значение = ?(ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент &lt;&gt; 0, 
			Значение / (ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент), Значение);</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Измерение" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>СуммаНДС --&gt; НДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="СуммаНДС" Вид="Ресурс" Тип="Число"/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Всего</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Всего" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; ГТД</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ГТД" Вид="Реквизит" Тип="СправочникСсылка.ГТД"/>
								<КодПравилаКонвертации>ГТД                                               </КодПравилаКонвертации>
								<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НомерГТД) Тогда
	 Отказ = Истина;
Иначе
	ИсходящиеДанные = Новый Структура;
	Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.СтранаПроисхождения) Тогда
		ИсходящиеДанные.Вставить("СтранаПроисхождения", "");
	Иначе
		ИсходящиеДанные.Вставить("СтранаПроисхождения", ОбъектКоллекции.Номенклатура.СтранаПроисхождения.Наименование);
	КонецЕсли;
	Значение = ОбъектКоллекции.Номенклатура.НомерГТД;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УслугиСтороннихОрганизацийНТТ</Код>
					<Наименование>ДокументСсылка.ПоступлениеТоваровУслугВНТТ --&gt; ДокументСсылка.УслугиСтороннихОрганизаций</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Если Источник.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
	Отказ = Истина;

ИначеЕсли Источник.Услуги.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ИмяПКО;</ПередВыгрузкой>
					<Источник>ДокументСсылка.ПоступлениеТоваровУслугВНТТ</Источник>
					<Приемник>ДокументСсылка.УслугиСтороннихОрганизаций</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "УР", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Измерение" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Измерение" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ДатаВходящегоДокумента --&gt; ДатаДокВходящий</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаДокВходящий" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>НомерВходящегоДокумента --&gt; НомерДокВходящий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерДокВходящий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>КурсВзаиморасчетов --&gt; Курс</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ТипИсполнителя</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипИсполнителя" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>Услуги --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>14</Код>
								<Наименование>Содержание --&gt; НаименованиеУслуги</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеУслуги" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; СчетЗатрат</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетЗатрат" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Значение = "44.3";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; УчетРасходовДляНУ</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчетРасходовДляНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУчетаРасходовДляНУ"/>
								<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Измерение" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>СуммаНДС --&gt; НДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="СуммаНДС" Вид="Ресурс" Тип="Число"/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Всего</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Всего" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если Не Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
	
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УслугиСтороннихОрганизаций</Код>
					<Наименование>ДокументСсылка.ПоступлениеТоваров --&gt; ДокументСсылка.УслугиСтороннихОрганизаций</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Если Источник.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
	Отказ = Истина;

ИначеЕсли Источник.Услуги.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ИмяПКО;</ПередВыгрузкой>
					<Источник>ДокументСсылка.ПоступлениеТоваровУслуг</Источник>
					<Приемник>ДокументСсылка.УслугиСтороннихОрганизаций</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "У", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>НомерВходящегоДокумента --&gt; НомерДокВходящий</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерДокВходящий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ДатаВходящегоДокумента --&gt; ДатаДокВходящий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаДокВходящий" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ТипИсполнителя</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипИсполнителя" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>КурсВзаиморасчетов --&gt; Курс</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>10</Код>
							<Наименование>Услуги --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Услуги" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>14</Код>
								<Наименование>Содержание --&gt; НаименованиеУслуги</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Содержание" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеУслуги" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; СчетЗатрат</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетЗатрат" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Значение = "44.3";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; УчетРасходовДляНУ</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчетРасходовДляНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУчетаРасходовДляНУ"/>
								<ПередВыгрузкой>Значение = "Принимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Измерение" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>СуммаНДС --&gt; НДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="СуммаНДС" Вид="Ресурс" Тип="Число"/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Всего</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Всего" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если Не Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
	
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>АвансовыйОтчет</Код>
					<Наименование>ДокументСсылка.АвансовыйОтчет --&gt; ДокументСсылка.АвансовыйОтчет</Наименование>
					<Порядок>300</Порядок>
					<Источник>ДокументСсылка.АвансовыйОтчет</Источник>
					<Приемник>ДокументСсылка.АвансовыйОтчет</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>12</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = ПолучитьПрефиксЧислоНомера(Источник.Номер,, "Число");
Значение = ДобавитьКПрефиксу(Значение, "", 6, "");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>49</Код>
							<Наименование>ФизЛицо --&gt; Сотрудник</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<Приемник Имя="Сотрудник" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>48</Код>
							<Наименование>ФизЛицо --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>ДоговорыПодотчетника                              </КодПравилаКонвертации>
							<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
ИсходящиеДанные.Вставить("ВалютаДоговора", Источник.ВалютаДокумента);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование> --&gt; Получено3</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Получено3" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 2 Тогда
	Если ТипЗнч(Источник.ВыданныеАвансы[2].ДокументАванса) = Тип("ДокументСсылка.РасходныйКассовыйОрдер") Тогда
		Значение = "из кассы";
	Иначе
		Значение = "из банка";
	КонецЕсли;	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; Получено2</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Получено2" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 1 Тогда
	Если ТипЗнч(Источник.ВыданныеАвансы[1].ДокументАванса) = Тип("ДокументСсылка.РасходныйКассовыйОрдер") Тогда
		Значение = "из кассы";
	Иначе
		Значение = "из банка";
	КонецЕсли;	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; Получено1</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Получено1" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 0 Тогда
	Если ТипЗнч(Источник.ВыданныеАвансы[0].ДокументАванса) = Тип("ДокументСсылка.РасходныйКассовыйОрдер") Тогда
		Значение = "из кассы";
	Иначе
		Значение = "из банка";
	КонецЕсли;	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; Дата1</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата1" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 0 Тогда
	Значение = Источник.ВыданныеАвансы[0].ДокументАванса.Дата;
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; Дата2</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата2" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 1 Тогда
	Значение = Источник.ВыданныеАвансы[1].ДокументАванса.Дата;
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; Дата3</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата3" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 2 Тогда
	Значение = Источник.ВыданныеАвансы[2].ДокументАванса.Дата;
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование> --&gt; Сумма3</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма3" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 2 Тогда
	Значение     = Источник.ВыданныеАвансы[2].ДокументАванса.СуммаДокумента;
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование> --&gt; Сумма2</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма2" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 1 Тогда
	Значение     = Источник.ВыданныеАвансы[1].ДокументАванса.СуммаДокумента;
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование> --&gt; Сумма1</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма1" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если Источник.ВыданныеАвансы.Количество() &gt; 0 Тогда
	Значение     = Источник.ВыданныеАвансы[0].ДокументАванса.СуммаДокумента;
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Группа Отключить="true">
							<Код>34</Код>
							<Наименование>Товары --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>НеЗамещать = Истина;
Если Источник.Товары.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>43</Код>
								<Наименование>ДатаВходящегоДокумента --&gt; ДатаДокумента</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаДокумента" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>45</Код>
								<Наименование>НомерВходящегоДокумента --&gt; НомерДокумента</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НомерДокумента" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>42</Код>
								<Наименование>ВидДокВходящий --&gt; НаименованиеДокумента</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="ВидДокВходящий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеДокумента" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>41</Код>
								<Наименование> --&gt; УчетРасходовДляНУ</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчетРасходовДляНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУчетаРасходовДляНУ"/>
								<ПередВыгрузкой>Если Параметры.ОбъектНУ = 1 Тогда
	Значение = "Принимаются";
Иначе
	Значение = "НеПринимаются";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>36</Код>
								<Наименование> --&gt; КоррСчет</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Значение = ?(Параметры.ОбъектНУ = 2, "41.1", "41.2");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>44</Код>
								<Наименование>Номенклатура --&gt; Субконто1</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Субконто1" Вид="Реквизит"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
ИсходящиеДанные.Вставить("ТипНоменклатуры", "Товар");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>37</Код>
								<Наименование> --&gt; Субконто2</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто2" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
								<ПередВыгрузкой>Если Параметры.ОбъектНУ = 1 Тогда
	Значение = Источник.ФизЛицо;
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>38</Код>
								<Наименование> --&gt; Субконто3</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто3" Вид="Реквизит"/>
								<КодПравилаКонвертации>ДоговорыПодотчетника                              </КодПравилаКонвертации>
								<ПередВыгрузкой>Если Параметры.ОбъектНУ = 1 Тогда
	Значение = Источник.ФизЛицо;
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>35</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>40</Код>
								<Наименование> --&gt; СуммаПоОтчету</Наименование>
								<Порядок>1100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПоОтчету" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>39</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>1200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>47</Код>
								<Наименование>СуммаНДС --&gt; НДС</Наименование>
								<Порядок>1300</Порядок>
								<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>46</Код>
								<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
								<Порядок>1400</Порядок>
								<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
						</Группа>
						<Группа Отключить="true">
							<Код>14</Код>
							<Наименование>ОплатаПоставщикам --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="ОплатаПоставщикам" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>НеЗамещать = Истина;
Если Источник.ОплатаПоставщикам.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>18</Код>
								<Наименование>ВидДокВходящий --&gt; НаименованиеДокумента</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ВидДокВходящий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеДокумента" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>ДатаВходящегоДокумента --&gt; ДатаДокумента</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаДокумента" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>НомерВходящегоДокумента --&gt; НомерДокумента</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НомерДокумента" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; КоррСчет</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Если Источник.ВалютаДокумента &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
	Значение = ?(Параметры.ОбъектНУ = 2, "60.11", "60.22");
Иначе
	Значение = ?(Параметры.ОбъектНУ = 2, "60.1", "60.2");
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>Контрагент --&gt; Субконто1</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Субконто1" Вид="Реквизит"/>
								<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>ДоговорКонтрагента --&gt; Субконто2</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<Приемник Имя="Субконто2" Вид="Реквизит"/>
								<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; Субконто3</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто3" Вид="Реквизит"/>
								<ПередВыгрузкой>Если Параметры.ОбъектНУ = 2 Тогда
	ТипПриемника = "ПеречислениеСсылка.ВидыРасчетовСПоставщиками";
	Значение = "РасходыНаПриобретениеМатериалов";
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>Сумма --&gt; СуммаПоОтчету</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаПоОтчету" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; УчетРасходовДляНУ</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчетРасходовДляНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУчетаРасходовДляНУ"/>
								<ПередВыгрузкой>Значение = "НеПринимаются";</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа Отключить="true">
							<Код>25</Код>
							<Наименование>Прочее --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="Прочее" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>НеЗамещать = Истина;
Если Источник.Прочее.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>29</Код>
								<Наименование>ВидДокВходящий --&gt; НаименованиеДокумента</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ВидДокВходящий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеДокумента" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>31</Код>
								<Наименование>НомерВходящегоДокумента --&gt; НомерДокумента</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НомерДокумента" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>ДатаВходящегоДокумента --&gt; ДатаДокумента</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаДокумента" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>32</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>33</Код>
								<Наименование>Сумма --&gt; СуммаПоОтчету</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаПоОтчету" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование> --&gt; УчетРасходовДляНУ</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчетРасходовДляНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУчетаРасходовДляНУ"/>
								<ПередВыгрузкой>Если Параметры.ОбъектНУ = 1 Тогда
	Значение = "Принимаются";
Иначе
	Значение = "НеПринимаются";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование> --&gt; КоррСчет</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Значение = "44.3"</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование> --&gt; Субконто1</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто1" Вид="Реквизит"/>
								<КодПравилаКонвертации>СтатьиЗатрат                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.СтатьяЗатрат) Тогда
	Отказ = Истина;
Иначе
	Значение = Новый Структура;
	Значение.Вставить("Наименование", ОбъектКоллекции.СтатьяЗатрат.Наименование);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство Отключить="true">
							<Код>50</Код>
							<Наименование> --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>1300</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередВыгрузкой>Запросы.ТабличнаяЧастьРеализации.УстановитьПараметр("Источник", Источник);
КоллекцияОбъектов = Запросы.ТабличнаяЧастьРеализации.Выполнить().Выгрузить();</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>51</Код>
							<Наименование> --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>1400</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Запросы.ТабличнаяЧастьАвансовогоОтчета.УстановитьПараметр("Источник", Источник);
КоллекцияОбъектов = Запросы.ТабличнаяЧастьАвансовогоОтчета.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>52</Код>
								<Наименование> --&gt; ДатаДокумента</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаДокумента" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>53</Код>
								<Наименование> --&gt; НомерДокумента</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерДокумента" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>54</Код>
								<Наименование> --&gt; НаименованиеДокумента</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НаименованиеДокумента" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>55</Код>
								<Наименование> --&gt; УчетРасходовДляНУ</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчетРасходовДляНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУчетаРасходовДляНУ"/>
								<ПередВыгрузкой>Если (Параметры.ОбъектНУ = 1) И (ОбъектКоллекции.НомерТЧ &lt;&gt; 2) Тогда
	Значение = "Принимаются";
Иначе
	Значение = "НеПринимаются";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>57</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СуммаПоОтчету" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>56</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>58</Код>
								<Наименование> --&gt; НДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.СуммаНДС;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>59</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>60</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
								<ПередВыгрузкой>Если ОбъектКоллекции.НомерТЧ = 2 Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>61</Код>
								<Наименование> --&gt; КоррСчет</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Если ОбъектКоллекции.НомерТЧ = 1 Тогда
	Значение = ?(Параметры.ОбъектНУ = 2, "41.1", "41.2");
ИначеЕсли ОбъектКоллекции.НомерТЧ = 2 Тогда
	Если Источник.ВалютаДокумента &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
		Значение = ?(Параметры.ОбъектНУ = 2, "60.11", "60.22");
	Иначе
		Значение = ?(Параметры.ОбъектНУ = 2, "60.1", "60.2");
	КонецЕсли;
Иначе
	Значение = "44.3";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>62</Код>
								<Наименование> --&gt; Субконто1</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто1" Вид="Реквизит"/>
								<ПередВыгрузкой>Если ОбъектКоллекции.НомерТЧ = 1 Тогда
	ИсходящиеДанные = Новый Структура;
	ИсходящиеДанные.Вставить("ТипНоменклатуры", "Товар");
	ИмяПКО = "Номенклатура";
ИначеЕсли ОбъектКоллекции.НомерТЧ = 2 Тогда
	ИмяПКО = "Контрагенты";
Иначе	
	Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.Субконто1) Тогда
		Отказ = Истина;
	Иначе
		Значение = Новый Структура;
		Значение.Вставить("Наименование", ОбъектКоллекции.Субконто1.Наименование);
	КонецЕсли;
	ИмяПКО = "СтатьиЗатрат";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>63</Код>
								<Наименование> --&gt; Субконто2</Наименование>
								<Порядок>1100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто2" Вид="Реквизит"/>
								<ПередВыгрузкой>Если ОбъектКоллекции.НомерТЧ = 1 Тогда
	Если Параметры.ОбъектНУ = 1 Тогда
		Значение = Источник.ФизЛицо;
	Иначе
		Отказ = Истина;
	КонецЕсли;
	ИмяПКО = "Контрагенты";
ИначеЕсли ОбъектКоллекции.НомерТЧ = 2 Тогда
	ИмяПКО = "Договоры";
Иначе	
	Отказ = Истина;	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>64</Код>
								<Наименование> --&gt; Субконто3</Наименование>
								<Порядок>1200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто3" Вид="Реквизит"/>
								<ПередВыгрузкой>Если ОбъектКоллекции.НомерТЧ = 1 Тогда
	Если Параметры.ОбъектНУ = 1 Тогда
		Значение = Источник.ФизЛицо;
	Иначе
		Отказ = Истина;
	КонецЕсли;
	ИмяПКО = "ДоговорыПодотчетника";
ИначеЕсли ОбъектКоллекции.НомерТЧ = 2 Тогда
	Если Параметры.ОбъектНУ = 1 Тогда
		ТипПриемника = "ПеречислениеСсылка.ВидыРасчетовСПоставщиками";
		Значение = "РасходыНаПриобретениеМатериалов";
	Иначе
		Отказ = Истина;
	КонецЕсли;
Иначе	
	Отказ = Истина;	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УслугиСтороннихОрганизацийДопРасходы</Код>
					<Наименование>ДокументСсылка.ПоступлениеДопРасходов --&gt; ДокументСсылка.УслугиСтороннихОрганизаций</Наименование>
					<Порядок>400</Порядок>
					<Источник>ДокументСсылка.ПоступлениеДопРасходов</Источник>
					<Приемник>ДокументСсылка.УслугиСтороннихОрганизаций</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "Д", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>КурсВзаиморасчетов --&gt; Курс</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>2</Код>
							<Наименование> --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("Всего");
КоллекцияОбъектов.Колонки.Добавить("СтавкаНДС");
КоллекцияОбъектов.Колонки.Добавить("НДС");

СуммаПоТЧ = Источник.Товары.Итог("Сумма");
СуммаНДСПоТЧ = Источник.Товары.Итог("СуммаНДС");

Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = Источник.Сумма + Источник.СуммаНДС + СуммаПоТЧ + СуммаНДСПоТЧ;
Иначе
	Значение = Источник.Сумма + СуммаПоТЧ;
КонецЕсли;

Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора);

Стр = КоллекцияОбъектов.Добавить();
Стр.Всего = Значение;
Стр.СтавкаНДС = Источник.СтавкаНДС;
Стр.НДС = Источник.СуммаНДС + СуммаНДСПоТЧ;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>8</Код>
								<Наименование>СтатьяЗатрат --&gt; НаименованиеУслуги</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НаименованиеУслуги" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = Источник.Содержание;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование> --&gt; СчетЗатрат</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетЗатрат" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Значение = "44.1";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; УчетРасходовДляНУ</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчетРасходовДляНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУчетаРасходовДляНУ"/>
								<ПередВыгрузкой>Значение = "НеПринимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Всего</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Всего" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; НДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Склад</Код>
				<Наименование>Склад</Наименование>
				<Порядок>400</Порядок>
				<Правило>
					<Код>ИнвентаризацияТМЦ</Код>
					<Наименование>ДокументСсылка.ИнвентаризацияТоваровНаСкладе --&gt; ДокументСсылка.ИнвентаризацияТМЦ</Наименование>
					<Порядок>200</Порядок>
					<Источник>ДокументСсылка.ИнвентаризацияТоваровНаСкладе</Источник>
					<Приемник>ДокументСсылка.ИнвентаризацияТМЦ</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "", 6, "");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; ВидТМЦ</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидТМЦ" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; ТМЦ_41_1</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТМЦ_41_1" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; ТМЦ_41_2</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТМЦ_41_2" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; ТМЦ_41_3</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТМЦ_41_3" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>Товары --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; ВидМПЗ</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидМПЗ" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "Товар";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>Номенклатура --&gt; МПЗ</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="МПЗ" Вид="Реквизит"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
ИсходящиеДанные.Вставить("ТипНоменклатуры", "Товар");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; КоличествоУчет</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоличествоУчет" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.КоличествоУчет * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СуммаУчет --&gt; СуммаУчет</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="СуммаУчет" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="СуммаУчет" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Сумма --&gt; Сумма</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; ФормироватьПроводку</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ФормироватьПроводку" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "Да";</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Продажа</Код>
				<Наименование>Продажа</Наименование>
				<Порядок>500</Порядок>
				<Правило>
					<Код>Реализация</Код>
					<Наименование>ДокументСсылка.РеализацияТоваров --&gt; ДокументСсылка.Реализация</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>ВходящиеДанные = Новый Структура("ТабличнаяЧасть");
ВходящиеДанные.ТабличнаяЧасть = Новый ТаблицаЗначений;</ПередВыгрузкой>
					<Источник>ДокументСсылка.РеализацияТоваровУслуг</Источник>
					<Приемник>ДокументСсылка.Реализация</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Префикс = ?(Источник.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером, "О", "П");
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, Префикс, 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ТипЦен --&gt; ТипЦен</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦен"/>
							<КодПравилаКонвертации>ТипыЦен                                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>УчитыватьНП --&gt; УчитыватьНП</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УчитыватьНП" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>КурсВзаиморасчетов --&gt; Курс</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; ВидОтгрузки</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОтгрузки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = ?(Источник.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером, 1, 0);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>9</Код>
							<Наименование>Товары --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>1100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Запросы.ТабличнаяЧастьРеализации.УстановитьПараметр("Источник", Источник);
КоллекцияОбъектов = Запросы.ТабличнаяЧастьРеализации.Выполнить().Выгрузить();

КоллекцияОбъектов.Свернуть("Номенклатура, СтатусПартии, Цена, СтавкаНДС", "Количество, Сумма, НДС");</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если ОбъектКоллекции.Номенклатура.Услуга Тогда
	ИсходящиеДанные.Вставить("ТипНоменклатуры", "Услуга");
Иначе
	ИсходящиеДанные.Вставить("ТипНоменклатуры", ?(ОбъектКоллекции.СтатусПартии = Перечисления.СтатусыПартийТоваров.НаКомиссию, "ТоварНаКомиссии", "Товар"));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.НДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;

Если ОбъектКоллекции.Количество &lt;&gt; 0 Тогда
	Значение = Значение / ОбъектКоллекции.Количество;
КонецЕсли;</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.НДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; НДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РеализацияОтгр</Код>
					<Наименование>ДокументСсылка.ОтчетКомиссионераОПродажах --&gt; ДокументСсылка.Реализация</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ИмяПКО;</ПередВыгрузкой>
					<Источник>ДокументСсылка.ОтчетКомиссионераОПродажах</Источник>
					<Приемник>ДокументСсылка.Реализация</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>10</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "К", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>КурсДокумента --&gt; Курс</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>ТипЦен --&gt; ТипЦен</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦен"/>
							<КодПравилаКонвертации>ТипыЦен                                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; ВидОтгрузки</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОтгрузки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 2;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>3</Код>
							<Наименование> --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Запросы.ТабличнаяЧастьОтчетаКомиссионера.УстановитьПараметр("Источник", Источник);
КоллекцияОбъектов = Запросы.ТабличнаяЧастьОтчетаКомиссионера.Выполнить().Выгрузить();

КоллекцияОбъектов.Свернуть("Номенклатура, СтатусПартии, Цена, СтавкаНДС", "Количество, Сумма, НДС");</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>6</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если ОбъектКоллекции.Номенклатура.Услуга Тогда
	ИсходящиеДанные.Вставить("ТипНоменклатуры", "Услуга");
Иначе
	ИсходящиеДанные.Вставить("ТипНоменклатуры", ?(ОбъектКоллекции.СтатусПартии = Перечисления.СтатусыПартийТоваров.НаКомиссию, "ТоварНаКомиссии", "Товар"));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если Не Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.НДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;

Если ОбъектКоллекции.Количество &lt;&gt; 0 Тогда
	Значение = Значение / ОбъектКоллекции.Количество;
КонецЕсли;</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если Не Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.НДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование> --&gt; НДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
								<ПриВыгрузке>Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора)</ПриВыгрузке>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УслугиКомиссионера</Код>
					<Наименование>ДокументСсылка.ОтчетКомиссионераОПродажах --&gt; ДокументСсылка.УслугиСтороннихОрганизаций</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ИмяПКО;</ПередВыгрузкой>
					<Источник>ДокументСсылка.ОтчетКомиссионераОПродажах</Источник>
					<Приемник>ДокументСсылка.УслугиСтороннихОрганизаций</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>10</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "К", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ДатаВходящегоДокумента --&gt; ДатаДокВходящий</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаДокВходящий" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>НомерВходящегоДокумента --&gt; НомерДокВходящий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерДокВходящий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>КурсВзаиморасчетов --&gt; Курс</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование> --&gt; ТипИсполнителя</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипИсполнителя" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = ?(УдержатьКомиссионноеВознаграждение, 1, 0);</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>2</Код>
							<Наименование> --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("Всего");
КоллекцияОбъектов.Колонки.Добавить("СтавкаНДС");
КоллекцияОбъектов.Колонки.Добавить("НДС");

СуммаПоТЧ = Источник.Товары.Итог("СуммаВознаграждения");
СуммаНДСПоТЧ = Источник.Товары.Итог("СуммаНДСВознаграждения");

Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = СуммаПоТЧ + СуммаНДСПоТЧ;
Иначе
	Значение = СуммаПоТЧ;
КонецЕсли;

Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора);

Стр = КоллекцияОбъектов.Добавить();
Стр.Всего = Значение;
Стр.СтавкаНДС = Источник.СтавкаНДСВознаграждения;
Стр.НДС = СуммаНДСПоТЧ;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; НаименованиеУслуги</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НаименованиеУслуги" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "Комиссионное вознаграждение"</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; СчетЗатрат</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СчетЗатрат" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Значение = "44.1";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; УчетРасходовДляНУ</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчетРасходовДляНУ" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУчетаРасходовДляНУ"/>
								<ПередВыгрузкой>Значение = "НеПринимаются";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Всего</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Всего" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование> --&gt; НДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РеализацияРозн</Код>
					<Наименование>ДокументСсылка.ОтчетОРозничныхПродажах --&gt; ДокументСсылка.Реализация</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ИмяПКО;</ПередВыгрузкой>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.Реализация</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>11</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "Р", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>ТипЦен --&gt; ТипЦен</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦен"/>
							<КодПравилаКонвертации>ТипыЦен                                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ДвижениеДенежныхСредств</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДвижениеДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.ДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>ДвиженияДенежныхСредств                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура("Наименование, ВидДвижения");
Значение.Наименование = "Поступления от покупателей";
Значение.ВидДвижения  = "ВыручкаПоОбычнымВидамДеятельности";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; ВидОтгрузки</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОтгрузки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 3;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>4</Код>
							<Наименование> --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Запросы.ТабличнаяЧастьОтчетаККМ.УстановитьПараметр("Источник", Источник);
КоллекцияОбъектов = Запросы.ТабличнаяЧастьОтчетаККМ.Выполнить().Выгрузить();

КоллекцияОбъектов.Свернуть("Номенклатура, СтатусПартии, Цена, СтавкаНДС", "Количество, Сумма, НДС");</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если ОбъектКоллекции.Номенклатура.Услуга Тогда
	ИсходящиеДанные.Вставить("ТипНоменклатуры", "Услуга");
Иначе
	ИсходящиеДанные.Вставить("ТипНоменклатуры", ?(ОбъектКоллекции.СтатусПартии = Перечисления.СтатусыПартийТоваров.НаКомиссию, "ТоварНаКомиссии", "Товар"));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.НДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;

Если ОбъектКоллекции.Количество &lt;&gt; 0 Тогда
	Значение = Значение / ОбъектКоллекции.Количество;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.НДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование> --&gt; НДС</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПриходныйОрдерПоОтчетуККМ</Код>
					<Наименование>ПриходныйОрдерПоОтчетуККМ</Наименование>
					<Порядок>400</Порядок>
					<ПередВыгрузкой>Если НЕ Источник.ВидОперации = Перечисления.ВидыОперацийОтчетОРозничныхПродажах.ОтчетККМОПродажах Тогда
	 Отказ = Истина;
КонецЕсли;
КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ИмяПКО;</ПередВыгрузкой>
					<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
					<Приемник>ДокументСсылка.ПриходныйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "О", 8, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>КассаККМ --&gt; ПринятоОт</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="КассаККМ" Вид="Реквизит" Тип="СправочникСсылка.КассыККМ"/>
							<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; КоррСчет</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
							<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";
Значение = "90.1";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ФормироватьПроводки</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФормироватьПроводки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; Сумма</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если (Не Источник.СуммаВключаетНДС) Тогда
	Значение = Источник.Товары.Итог("Сумма") + Источник.Товары.Итог("НДС");
Иначе
	Значение = Источник.Товары.Итог("Сумма");
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; НДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Товары.Итог("СуммаНДС")</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; ДвижениеДенежныхСредств</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДвижениеДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.ДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>ДвиженияДенежныхСредств                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура("Наименование, ВидДвижения");
Значение.Наименование = "Поступления от покупателей";
Значение.ВидДвижения  = "ВыручкаПоОбычнымВидамДеятельности";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РеализацияКомУслуг</Код>
					<Наименование>ДокументСсылка.ОтчетКомитентуОПродажах --&gt; ДокументСсылка.Реализация</Наименование>
					<Порядок>500</Порядок>
					<Источник>ДокументСсылка.ОтчетКомитентуОПродажах</Источник>
					<Приемник>ДокументСсылка.Реализация</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "У", 6, "Справа");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Контрагент --&gt; Контрагент</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>КурсВзаиморасчетов --&gt; Курс</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>2</Код>
							<Наименование> --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("Сумма");
КоллекцияОбъектов.Колонки.Добавить("СтавкаНДС");
КоллекцияОбъектов.Колонки.Добавить("НДС");

Значение = Источник.Товары.Итог("СуммаВознаграждения");
Выполнить(Алгоритмы.ПересчетСуммыИсточникаВВалютуДоговора);
                                                                
Стр = КоллекцияОбъектов.Добавить();
Стр.Сумма = Значение;
Стр.СтавкаНДС = Источник.СтавкаНДСВознаграждения;
Стр.НДС = Источник.Товары.Итог("СуммаНДСВознаграждения");</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>5</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>НоменклатураПосредническаяУслуга                  </КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = "Посредническая услуга в торговле";
ИсходящиеДанные = Новый Структура;
ИсходящиеДанные.Вставить("ТипНоменклатуры", "ПосредническаяУслуга");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = ОбъектКоллекции.Сумма;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; Сумма</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; НДС</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование> --&gt; СтавкаНДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
								<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Касса</Код>
				<Наименование>Касса</Наименование>
				<Порядок>600</Порядок>
				<Правило>
					<Код>ПриходныйОрдер</Код>
					<Наименование>ДокументСсылка.ПриходныйКассовыйОрдер --&gt; ДокументСсылка.ПриходныйОрдер</Наименование>
					<Порядок>100</Порядок>
					<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
					<Приемник>ДокументСсылка.ПриходныйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>12</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>14</Код>
							<Наименование>Номер --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "", 8, "");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; РозничнаяВыручка</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РозничнаяВыручка" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если (Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствРозничнаяВыручка)
	И (Источник.ВидПриемаРозничнойВыручки = Перечисления.ВидПриемаРозничнойВыручки.ИзКассы) Тогда
	Значение = 1;
	
Иначе
	Значение = 0;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ДвижениеДенежныхСредств</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДвижениеДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.ДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>ДвиженияДенежныхСредств                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура("Наименование, ВидДвижения");

Если Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя Тогда
	Значение.Наименование = "Поступления от покупателей";
	Значение.ВидДвижения  = "ВыручкаПоОбычнымВидамДеятельности";
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствРозничнаяВыручка Тогда
	Значение.Наименование = "Поступления от покупателей";
	Значение.ВидДвижения  = "ВыручкаПоОбычнымВидамДеятельности";
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПодотчетником Тогда
	Значение.Наименование = "Прочие поступления";
	Значение.ВидДвижения  = "ПрочиеПоступления";

ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком Тогда
	Значение.Наименование = "Прочие поступления";
	Значение.ВидДвижения  = "ПрочиеПоступления";

ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствПрочее Тогда
	Значение.Наименование = "Прочие поступления";
	Значение.ВидДвижения  = "ПрочиеПоступления";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; КоррСчет</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
							<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";

Если Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя Тогда
	Отказ = Истина;
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствРозничнаяВыручка Тогда
	Значение = "90.1";
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПодотчетником Тогда
	Если Источник.ВалютаДокумента &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
		Если Параметры.ОбъектНУ = 1 Тогда
			Значение = "71.22";
		Иначе
			Значение = "71.11";
		КонецЕсли;
	Иначе
		Если Параметры.ОбъектНУ = 1 Тогда
			Значение = "71.2";
		Иначе
			Значение = "71.1";
		КонецЕсли;
	КонецЕсли;
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком Тогда
	Если Источник.ВалютаДокумента &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
		Если Параметры.ОбъектНУ = 1 Тогда
			Значение = "60.22";
		Иначе
			Значение = "60.11";
		КонецЕсли;
	Иначе
		Если Параметры.ОбъектНУ = 1 Тогда
			Значение = "60.2";
		Иначе
			Значение = "60.1";
		КонецЕсли;
	КонецЕсли;
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; Субконто1</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Субконто1" Вид="Реквизит"/>
							<ПередВыгрузкой>Если (Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя) ИЛИ
	(Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПодотчетником) ИЛИ
	(Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком) ИЛИ
	(Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ПрочиеРасчетыСКонтрагентами) ИЛИ
	(Источник.ВидОперации = Перечисления.ВидыОперацийПКО.РасчетыПоКредитамИЗаймамСКонтрагентами) Тогда
	
	Значение = Источник.Контрагент;
	ИмяПКО = "Контрагенты";
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование> --&gt; Субконто2</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Субконто2" Вид="Реквизит"/>
							<ПередВыгрузкой>Если (Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ПрочиеРасчетыСКонтрагентами)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийПКО.РасчетыПоКредитамИЗаймамСКонтрагентами) Тогда
	Если Источник.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
		Договор = Источник.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		Для Каждого Строка Из Источник.РасшифровкаПлатежа Цикл
			Если НЕ Строка.ДоговорКонтрагента = Договор Тогда
				Сообщить("В Приходном кассовом ордере №"+Источник.Номер+" от "+Источник.Дата+" не указано"+
				"больше одного договора контрагента. Значения договоров не выгружены.");
				Отказ = Истина;
				Прервать;
			КонецЕсли;
		КонецЦикла;
		Значение = Договор;
		ИмяПКО = "Договоры";
	Иначе
		Сообщить("В Приходном кассовом ордере №"+Источник.Номер+" от "+Источник.Дата+" не указан договор контрагента.");
		Отказ = Истина;
	КонецЕсли;
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПодотчетником Тогда
	Значение = Источник.Контрагент;
	ИсходящиеДанные = Новый Структура;
	ИсходящиеДанные.Вставить("ВалютаДоговора", Источник.ВалютаДокумента);
	ИмяПКО = "ДоговорыПодотчетника";
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование> --&gt; Субконто3</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Субконто3" Вид="Реквизит"/>
							<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПодотчетником Тогда
	Если Параметры.ОбъектНУ = 1 Тогда
		Значение = "ПрочиеРасходы";
		ТипПриемника = "ПеречислениеСсылка.ВидыРасчетовСПоставщиками";
	Иначе
	    Отказ = Истина;
	КонецЕсли;
		
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком Тогда
	Если Параметры.ОбъектНУ = 1 Тогда
		Значение = "РасходыНаПриобретениеМатериалов";
		ТипПриемника = "ПеречислениеСсылка.ВидыРасчетовСПоставщиками";
	Иначе
	    Отказ = Истина;
	КонецЕсли;
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование> --&gt; ФормироватьПроводки</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФормироватьПроводки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если (Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствРозничнаяВыручка) Тогда
	Значение = 0;
	
Иначе
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Основание --&gt; Основание</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Приложение --&gt; Приложение</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>СуммаДокумента --&gt; Сумма</Наименование>
							<Порядок>1300</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; НДС</Наименование>
							<Порядок>1400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НДС" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.СтавкаНДС) Тогда
	НДС = 0;
    НДС = УчетНДС.РассчитатьСуммуНДС(Источник.СуммаДокумента, 1, 1, УчетНДС.ПолучитьСтавкуНДС(Источник.СтавкаНДС));
	Значение = НДС;
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; Валютный</Наименование>
							<Порядок>1600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Валютный" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если Источник.ВалютаДокумента &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
	Значение = 2;
	
Иначе
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
							<Порядок>1700</Порядок>
							<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>1800</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование> --&gt; ТорговаяТочка</Наименование>
							<Порядок>1900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТорговаяТочка" Вид="Реквизит" Тип="СправочникСсылка.МестаХранения"/>
							<ПередВыгрузкой>Если (Источник.ВидОперации = Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствРозничнаяВыручка)
	И (Источник.ВидПриемаРозничнойВыручки = Перечисления.ВидПриемаРозничнойВыручки.ИзКассы) Тогда
	
	Значение = Источник.Контрагент;
	ИмяПКО = "ККМСклад";
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РасходныйОрдер</Код>
					<Наименование>ДокументСсылка.РасходныйКассовыйОрдер --&gt; ДокументСсылка.РасходныйОрдер</Наименование>
					<Порядок>200</Порядок>
					<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
					<Приемник>ДокументСсылка.РасходныйОрдер</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>10</Код>
							<Наименование>Дата --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>12</Код>
							<Наименование>Номер --&gt; НомерДок</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерДок" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Номер, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "", 8, "");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Выдать --&gt; Выдать</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Основание --&gt; Основание</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Приложение --&gt; Приложение</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; КоррСчет</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
							<ПередВыгрузкой>ТипПриемника = "ПланСчетовСсылка.Основной";

Если Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВозвратДенежныхСредствПокупателю Тогда
	Если Источник.ВалютаДокумента &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
        Значение = "62.11";
		
	Иначе
		Значение = "62.1";
	КонецЕсли;
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВыдачаДенежныхСредствПодотчетнику Тогда
	Если Источник.ВалютаДокумента &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
        Если Параметры.ОбъектНУ = 1 Тогда
			Значение = "71.22";
		Иначе
			Значение = "71.11";
		КонецЕсли;
	Иначе
		Если Параметры.ОбъектНУ = 1 Тогда
			Значение = "71.2";
		Иначе
			Значение = "71.1";
		КонецЕсли;
	КонецЕсли;
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; Субконто1</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Субконто1" Вид="Реквизит"/>
							<ПередВыгрузкой>Если (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВозвратДенежныхСредствПокупателю)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВыдачаДенежныхСредствПодотчетнику)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ПрочиеРасчетыСКонтрагентами)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.РасчетыПоКредитамИЗаймамСКонтрагентами) Тогда
	
	Значение = Источник.Контрагент;
	ИмяПКО = "Контрагенты";
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; Субконто2</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Субконто2" Вид="Реквизит"/>
							<ПередВыгрузкой>Если (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВозвратДенежныхСредствПокупателю)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ПрочиеРасчетыСКонтрагентами)
	ИЛИ (Источник.ВидОперации = Перечисления.ВидыОперацийРКО.РасчетыПоКредитамИЗаймамСКонтрагентами) Тогда
	Если Источник.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
		Договор = Источник.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		Для Каждого Строка Из Источник.РасшифровкаПлатежа Цикл
			Если НЕ Строка.ДоговорКонтрагента = Договор Тогда
				Сообщить("В Приходном кассовом ордере №"+Источник.Номер+" от "+Источник.Дата+" не указано"+
				"больше одного договора контрагента. Значения договоров не выгружены.");
				Отказ = Истина;
				Прервать;
			КонецЕсли;
		КонецЦикла;
		Значение = Договор;
		ИмяПКО = "Договоры";
	Иначе
		Сообщить("В Приходном кассовом ордере №"+Источник.Номер+" от "+Источник.Дата+" не указан договор контрагента.");
		Отказ = Истина;
	КонецЕсли;
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВыдачаДенежныхСредствПодотчетнику Тогда
	Значение = Источник.Контрагент;
	ИсходящиеДанные = Новый Структура;
	ИсходящиеДанные.Вставить("ВалютаДоговора", Источник.ВалютаДокумента);
	ИмяПКО = "ДоговорыПодотчетника";
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; Субконто3</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Субконто3" Вид="Реквизит"/>
							<ПередВыгрузкой>Если Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику Тогда
	Если Параметры.ОбъектНУ = 1 Тогда
		Значение = "РасходыНаПриобретениеМатериалов";
		ТипПриемника = "ПеречислениеСсылка.ВидыРасчетовСПоставщиками";
	Иначе
	    Отказ = Истина;
	КонецЕсли;
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВыдачаДенежныхСредствПодотчетнику Тогда
	Если Параметры.ОбъектНУ = 1 Тогда
		Значение = "ПрочиеРасходы";
		ТипПриемника = "ПеречислениеСсылка.ВидыРасчетовСПоставщиками";
	Иначе
	    Отказ = Истина;
	КонецЕсли;
	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>СуммаДокумента --&gt; Сумма</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование> --&gt; ФормироватьПроводки</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФормироватьПроводки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; Валютный</Наименование>
							<Порядок>1300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Валютный" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если Источник.ВалютаДокумента &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
	Значение = 2;
	
Иначе
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ВалютаДокумента --&gt; Валюта</Наименование>
							<Порядок>1400</Порядок>
							<Источник Имя="ВалютаДокумента" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Если Источник.ВалютаДокумента = Константы.ВалютаРегламентированногоУчета.Получить() Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ДвижениеДенежныхСредств</Наименование>
							<Порядок>1500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДвижениеДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.ДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>ДвиженияДенежныхСредств                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура("Наименование, ВидДвижения");

Если Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику Тогда
	Значение.Наименование = "Оплата поставщику";
	Значение.ВидДвижения  = "ПриобретениеТоваровПродукцииРаботИУслуг";
	
ИначеЕсли Источник.ВидОперации = Перечисления.ВидыОперацийРКО.ВыдачаДенежныхСредствПодотчетнику Тогда
	Значение.Наименование = "Выдача под авансовый отчет";
	Значение.ВидДвижения  = "ВыданныеПодотчетныеСуммы";
	
Иначе
	Значение.Наименование = "Прочие выплаты";
	Значение.ВидДвижения  = "ПрочиеВыплатыИПеречисления";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа>
				<Код>Банк</Код>
				<Наименование>Банк</Наименование>
				<Порядок>700</Порядок>
				<Правило>
					<Код>Выписка</Код>
					<Наименование> --&gt; ДокументСсылка.Выписка</Наименование>
					<Порядок>100</Порядок>
					<ПередВыгрузкой>//В случае, если есть отбор по подразделениям, могут появиться
// выписки без строк табличной части. Их выгружать не надо.
Если Источник.ТабличнаяЧасть.Количество() = 0 Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<Приемник>ДокументСсылка.Выписка</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование> --&gt; ДатаДок</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаДок" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; БанковскийСчет</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчета"/>
							<КодПравилаКонвертации>БанковскиеСчета                                   </КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование> --&gt; Валюта</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>4</Код>
							<Наименование> --&gt; ТабличнаяЧасть</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТабличнаяЧасть" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>5</Код>
								<Наименование> --&gt; ВидДвижения</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидДвижения" Вид="Реквизит" Тип="СправочникСсылка.ДвиженияДенежныхСредств"/>
								<КодПравилаКонвертации>ДвиженияДенежныхСредств                           </КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование> --&gt; КоррСчет</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="ПланСчетовСсылка.Основной"/>
								<ПередВыгрузкой>Если одПустое(ОбъектКоллекции.КоррСчет) Тогда
	Отказ = Истина;
КонецЕсли;

ТипПриемника = "ПланСчетовСсылка.Основной";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Субконто1</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто1" Вид="Реквизит"/>
								<ПередВыгрузкой>Если ОбъектКоллекции.Субконто1 = Неопределено Тогда
	Отказ = Истина;

Иначе
	ИмяПКО = ОбъектКоллекции.ИмяПКО1;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Субконто2</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто2" Вид="Реквизит"/>
								<ПередВыгрузкой>Если ОбъектКоллекции.Субконто2 = Неопределено Тогда
	Отказ = Истина;

Иначе
	ИмяПКО = ОбъектКоллекции.ИмяПКО2;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Субконто3</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Субконто3" Вид="Реквизит"/>
								<ПередВыгрузкой>Если ОбъектКоллекции.Субконто3 = Неопределено Тогда
	Отказ = Истина;

Иначе
	Значение = ОбъектКоллекции.Субконто3;
	ТипПриемника = "ПеречислениеСсылка.ВидыРасчетовСПоставщиками";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; Приход</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Приход" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Расход</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Расход" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; ДатаДокВходящий</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаДокВходящий" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; НомерДокВходящий</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерДокВходящий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>600</Порядок>
			<Правило>
				<Код>Банки</Код>
				<Наименование>СправочникСсылка.Банки --&gt; СправочникСсылка.Банки</Наименование>
				<Порядок>100</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.Банки</Источник>
				<Приемник>СправочникСсылка.Банки</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>9</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
						<Приемник Имя="Родитель" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование> --&gt;</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>3</Код>
							<Наименование>Город --&gt; Местонахождение</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Местонахождение" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Адрес --&gt; Адрес</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Телефоны --&gt; Телефоны</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Валюты</Код>
				<Наименование>СправочникСсылка.Валюты --&gt; СправочникСсылка.Валюты</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>Если Источник.Код = "810" Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.Валюты</Источник>
				<Приемник>СправочникСсылка.Валюты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>НаименованиеПолное --&gt; ПолнНаименование</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование> --&gt; Курс</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Курс" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = РегистрыСведений.КурсыВалют.ПолучитьПоследнее(РабочаяДата, Новый Структура("Валюта", Источник)).Курс;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; Кратность</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Кратность" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = РегистрыСведений.КурсыВалют.ПолучитьПоследнее(РабочаяДата, Новый Структура("Валюта", Источник)).Кратность;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ГТД</Код>
				<Наименование>СправочникСсылка.НомераГТД --&gt; СправочникСсылка.ГТД</Наименование>
				<Порядок>300</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.НомераГТД</Источник>
				<Приемник>СправочникСсылка.ГТД</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; СтранаПроисхождения</Наименование>
						<Порядок>300</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КлассификаторЕдиницИзмерения</Код>
				<Наименование>СправочникСсылка.КлассификаторЕдиницИзмерения --&gt; СправочникСсылка.ЕдиницыИзмерений</Наименование>
				<Порядок>400</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.КлассификаторЕдиницИзмерения</Источник>
				<Приемник>СправочникСсылка.ЕдиницыИзмерений</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>НаименованиеПолное --&gt; ПолнНаименование</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>МестаХранения</Код>
				<Наименование>СправочникСсылка.СкладыКомпании --&gt; СправочникСсылка.МестаХранения</Наименование>
				<Порядок>500</Порядок>
				<Источник>СправочникСсылка.Склады</Источник>
				<Приемник>СправочникСсылка.МестаХранения</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = ДобавитьКПрефиксу(Источник.Код, "", 5, "");</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Розничный --&gt; ТипСклада</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<ПередВыгрузкой>Если Источник.ВидСклада = Перечисления.ВидыСкладов.Оптовый Тогда
	Значение = "Оптовый";
Иначе
	Значение = "Розничный";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ТипЦенРозничнойТорговли --&gt; ТипЦен</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ТипЦенРозничнойТорговли" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
						<Приемник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦен"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Номенклатура</Код>
				<Наименование>СправочникСсылка.Номенклатура --&gt; СправочникСсылка.Номенклатура</Наименование>
				<Порядок>600</Порядок>
				<ПередВыгрузкой>Если НЕ Источник.ЭтоГруппа Тогда
	КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник) + ВходящиеДанные.ТипНоменклатуры;
КонецЕсли;</ПередВыгрузкой>
				<Источник>СправочникСсылка.Номенклатура</Источник>
				<Приемник>СправочникСсылка.Номенклатура</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>11</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Родитель" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
ИсходящиеДанные.Вставить("ТипНоменклатуры", "");</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>8</Код>
						<Наименование> --&gt; Код</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ТипНоменклатуры = ВходящиеДанные.ТипНоменклатуры;

Если ТипНоменклатуры = "Товар" Тогда
	КодТипаТовара = "Т";

ИначеЕсли ТипНоменклатуры = "ТоварНаКомиссии" Тогда
	КодТипаТовара = "К";

ИначеЕсли ТипНоменклатуры = "Услуга" Тогда
	КодТипаТовара = "У";
	
Иначе
	КодТипаТовара = "";
КонецЕсли;

Значение = ДобавитьКПрефиксу(Источник.Код, КодТипаТовара, 10, "Справа");</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование> --&gt;</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>6</Код>
							<Наименование>НаименованиеПолное --&gt; ПолнНаименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>БазоваяЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="БазоваяЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерений"/>
							<КодПравилаКонвертации>КлассификаторЕдиницИзмерения                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; ТипНоменклатуры</Наименование>
							<Порядок>300</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ВидДеятельности</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидДеятельности" Вид="Реквизит" Тип="СправочникСсылка.ВидыДеятельности"/>
							<КодПравилаКонвертации>ВидыДеятельности                                  </КодПравилаКонвертации>
							<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
    Отказ = Истина;

Иначе
	Значение = Новый Структура;
	Значение.Вставить("Наименование", ВходящиеДанные.ТипНоменклатуры);
	Значение.Вставить("ТипНоменклатуры", ВходящиеДанные.ТипНоменклатуры);
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; СтранаПроисхождения</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Страна = Источник.СтранаПроисхождения;

Если Источник.ЭтоГруппа Тогда
    Отказ = Истина;
	
ИначеЕсли Страна = Справочники.КлассификаторСтранМира.ПустаяСсылка() Тогда
	Значение = 1;

ИначеЕсли Страна.Код = "643" Тогда
	Значение = 1;

Иначе
	Значение = 0;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>ПеречислениеСсылка.СтавкиНДС --&gt; СправочникСсылка.СтавкиНДС</Наименование>
				<Порядок>700</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<Источник>ПеречислениеСсылка.СтавкиНДС</Источник>
				<Приемник>СправочникСсылка.СтавкиНДС</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование> --&gt; Ставка</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Ставка" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Если Источник = Перечисления.СтавкиНДС.БезНДС Тогда
	Значение = 0;
	
ИначеЕсли Источник = Перечисления.СтавкиНДС.НДС20 Тогда
	Значение = 20;
	
ИначеЕсли Источник = Перечисления.СтавкиНДС.НДС20_120 Тогда
	Значение = 16.67;

ИначеЕсли Источник = Перечисления.СтавкиНДС.НДС18 Тогда
	Значение = 18;
	
ИначеЕсли Источник = Перечисления.СтавкиНДС.НДС18_118 Тогда
	Значение = 15.25;
	
ИначеЕсли Источник = Перечисления.СтавкиНДС.НДС10 Тогда
	Значение = 10;
	
ИначеЕсли Источник = Перечисления.СтавкиНДС.НДС10_110 Тогда
	Значение = 9.09;
	
Иначе
	Отказ = Истина;	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = Строка(Источник);</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ТипыЦен</Код>
				<Наименование>СправочникСсылка.ТипыЦенНоменклатуры --&gt; СправочникСсылка.ТипыЦен</Наименование>
				<Порядок>900</Порядок>
				<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<Источник>СправочникСсылка.ТипыЦенНоменклатуры</Источник>
				<Приемник>СправочникСсылка.ТипыЦен</Приемник>
				<Свойства>
					<Свойство Отключить="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Значение = ДобавитьКПрефиксу(Источник.Код, "", 5, "");</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>ВалютаЦены --&gt; Валюта</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>СправочникСсылка.Контрагенты --&gt; СправочникСсылка.Контрагенты</Наименование>
				<Порядок>1000</Порядок>
				<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.Контрагенты") Тогда
	
	ВходящиеДанные = Новый Структура;
	ВходящиеДанные.Вставить("Код", ДобавитьКПрефиксу(Источник.Код, "", 8, ""));
	ВходящиеДанные.Вставить("ЭтоГруппа", Источник.ЭтоГруппа);
	ВходящиеДанные.Вставить("Наименование", Источник.Наименование);
	ВходящиеДанные.Вставить("Родитель", Источник.Родитель);
	
	Если Не Источник.ЭтоГруппа Тогда
		
		ВходящиеДанные.Вставить("Телефоны", "");
		ВходящиеДанные.Вставить("ЮридическийАдрес", "");
		ВходящиеДанные.Вставить("ПочтовыйАдрес", "");
		ВходящиеДанные.Вставить("ОсновнойДоговор", Источник.ОсновнойДоговорКонтрагента);
		ВходящиеДанные.Вставить("ОсновнойСчет", Источник.ОсновнойБанковскийСчет);

		ВходящиеДанные.Вставить("ПолнНаименование", Источник.НаименованиеПолное);
		ВходящиеДанные.Вставить("ИНН", Источник.ИНН + ?(НЕ ЗначениеЗаполнено(Источник.КПП), "", "/") + Источник.КПП);
		ВходящиеДанные.Вставить("ДокументСерия", "");
		ВходящиеДанные.Вставить("ДокументНомер", "");
		ВходящиеДанные.Вставить("ДокументКемВыдан", "");
		ВходящиеДанные.Вставить("ДокументДатаВыдачи", "");

		ВходящиеДанные.Вставить("Телефоны", УправлениеКонтактнойИнформацией.ПолучитьТелефонИзКонтактнойИнформации(Источник));
		ВходящиеДанные.Вставить("ЮридическийАдрес", УправлениеКонтактнойИнформацией.ПолучитьАдресИзКонтактнойИнформации(Источник, "Юридический"));
		ВходящиеДанные.Вставить("ПочтовыйАдрес", УправлениеКонтактнойИнформацией.ПолучитьАдресИзКонтактнойИнформации(Источник, "Фактический"));
		
		Если НЕ Источник.ЮрФизЛицо = Перечисления.ЮрФизЛицо.ФизЛицо Тогда
			ВходящиеДанные.Вставить("ВидКонтрагента", "Организация");
			
		Иначе
			ВходящиеДанные.Вставить("ВидКонтрагента", "ЧастноеЛицо");
			
		КонецЕсли;
		
	КонецЕсли;
	
ИначеЕсли ТипЗнч(Источник) = Тип("СправочникСсылка.ФизическиеЛица") Тогда
	
	ВходящиеДанные = Новый Структура;
	ВходящиеДанные.Вставить("Код", ДобавитьКПрефиксу(Источник.Код, "Ф", 8, ""));
	ВходящиеДанные.Вставить("ЭтоГруппа", Источник.ЭтоГруппа);
	ВходящиеДанные.Вставить("Наименование", Источник.Наименование);
	ВходящиеДанные.Вставить("Родитель", Источник.Родитель);
	
	Если Не Источник.ЭтоГруппа Тогда
		
		ВходящиеДанные.Вставить("Телефоны", "");
		ВходящиеДанные.Вставить("ЮридическийАдрес", "");
		ВходящиеДанные.Вставить("ПочтовыйАдрес", "");
		ВходящиеДанные.Вставить("ОсновнойДоговор", "");
		ВходящиеДанные.Вставить("ОсновнойСчет", "");

		СтруктураПаспортныхДанных	= РегистрыСведений.ПаспортныеДанныеФизЛиц.ПолучитьПоследнее(РабочаяДата, Новый Структура("ФизЛицо", Источник));
		
		ВходящиеДанные.Вставить("ВидКонтрагента", "ЧастноеЛицо");
		ВходящиеДанные.Вставить("ПолнНаименование", Источник.Наименование);
		ВходящиеДанные.Вставить("ИНН", "");
		ВходящиеДанные.Вставить("ДокументСерия", СтруктураПаспортныхДанных.ДокументСерия);
		ВходящиеДанные.Вставить("ДокументНомер", СтруктураПаспортныхДанных.ДокументНомер);
		ВходящиеДанные.Вставить("ДокументКемВыдан", СтруктураПаспортныхДанных.ДокументКемВыдан);
		ВходящиеДанные.Вставить("ДокументДатаВыдачи", СтруктураПаспортныхДанных.ДокументДатаВыдачи);
	КонецЕсли;
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>17</Код>
						<Наименование> --&gt; ЭтоГруппа</Наименование>
						<Порядок>100</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<ПередВыгрузкой>Если ВходящиеДанные.ЭтоГруппа = Истина Тогда
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование> --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование> --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Родитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>14</Код>
						<Наименование> --&gt; Код</Наименование>
						<Порядок>400</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование> --&gt;</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>7</Код>
							<Наименование> --&gt; ИНН</Наименование>
							<Порядок>100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ВидКонтрагента</Наименование>
							<Порядок>200</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидКонтрагента" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыКонтрагентов"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование> --&gt; ПолнНаименование</Наименование>
							<Порядок>300</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПолнНаименование" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование> --&gt; ЮридическийАдрес</Наименование>
							<Порядок>400</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЮридическийАдрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование> --&gt; ПочтовыйАдрес</Наименование>
							<Порядок>500</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПочтовыйАдрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование> --&gt; Телефоны</Наименование>
							<Порядок>600</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ДокументСерия</Наименование>
							<Порядок>700</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументСерия" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; ДокументНомер</Наименование>
							<Порядок>800</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументНомер" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; ДокументКемВыдан</Наименование>
							<Порядок>900</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументКемВыдан" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; ДокументДатаВыдачи</Наименование>
							<Порядок>1000</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование> --&gt; ОсновнойСчет</Наименование>
							<Порядок>1100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ОсновнойСчет" Вид="Реквизит" Тип="СправочникСсылка.РасчетныеСчета"/>
							<КодПравилаКонвертации>РасчетныеСчета                                    </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование> --&gt; ОсновнойДоговор</Наименование>
							<Порядок>1200</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ОсновнойДоговор" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
							<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Договоры</Код>
				<Наименование>СправочникСсылка.ДоговорыВзаиморасчетов --&gt; СправочникСсылка.Договоры</Наименование>
				<Порядок>1100</Порядок>
				<ПередВыгрузкой>ВыгрузитьПоПравилу(Источник.Владелец,,,, "Контрагенты");</ПередВыгрузкой>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
				<Приемник>СправочникСсылка.Договоры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = ДобавитьКПрефиксу(Источник.Код, "", 6, "");</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>8</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Значение = 1;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Родитель" Вид="Реквизит" Тип="СправочникСсылка.Договоры"/>
						<КодПравилаКонвертации>Договоры                                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Владелец" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование> --&gt;</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>3</Код>
							<Наименование>ВалютаВзаиморасчетов --&gt; ВалютаДоговора</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДоговора" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
							<ПередВыгрузкой>Если Источник.ВалютаВзаиморасчетов.Код = "810" Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ОплатаДоговора</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ОплатаДоговора" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если (Источник.ВалютаВзаиморасчетов.Код = "810") или (Источник.РасчетыВУсловныхЕдиницах) Тогда
	Значение = 1;
Иначе
	Значение = 2;
Конецесли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РасчетныеСчета</Код>
				<Наименование>СправочникСсылка.БанковскиеСчета --&gt; СправочникСсылка.РасчетныеСчета</Наименование>
				<Порядок>1200</Порядок>
				<ПередВыгрузкой>ВыгрузитьПоПравилу(Источник.Владелец,,,, "Контрагенты");</ПередВыгрузкой>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.БанковскиеСчета</Источник>
				<Приемник>СправочникСсылка.РасчетныеСчета</Приемник>
				<Свойства>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование> --&gt; Владелец</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>НомерСчета --&gt; Номер</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Банк --&gt; БанкОрганизации</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<Приемник Имя="БанкОрганизации" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>БанкДляРасчетов --&gt; БанкДляРасчетов</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ТекстКорреспондента --&gt; Корреспондент</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Корреспондент" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ТекстНазначения --&gt; Назначение</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Назначение" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыПодотчетника</Код>
				<Наименование>СправочникСсылка.ФизическиеЛица --&gt; СправочникСсылка.Договоры</Наименование>
				<Порядок>1400</Порядок>
				<ПередВыгрузкой>ВыгрузитьПоПравилу(Источник,,,, "Контрагенты");</ПередВыгрузкой>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.ФизическиеЛица</Источник>
				<Приемник>СправочникСсылка.Договоры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование> --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Расчеты по подотчетным средствам";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; ВалютаДоговора</Наименование>
						<Порядок>200</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВалютаДоговора" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование> --&gt; Владелец</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование> --&gt; ОплатаДоговора</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ОплатаДоговора" Вид="Реквизит" Тип="Число"/>
						<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>БанковскиеСчета</Код>
				<Наименование>СправочникСсылка.БанковскиеСчета --&gt; СправочникСсылка.БанковскиеСчета</Наименование>
				<Порядок>1500</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.БанковскиеСчета</Источник>
				<Приемник>СправочникСсылка.БанковскиеСчета</Приемник>
				<Свойства>
					<Свойство>
						<Код>7</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>9</Код>
						<Наименование>НомерСчета --&gt; Номер</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Банк --&gt; БанкОрганизации</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<Приемник Имя="БанкОрганизации" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>БанкДляРасчетов --&gt; БанкДляРасчетов</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.Банки"/>
						<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ВидСчета --&gt; ВидСчета</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ВидСчета" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>НомерИДатаРазрешения --&gt; НомерИДатаРазрешения</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="НомерИДатаРазрешения" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерИДатаРазрешения" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ДатаОткрытия --&gt; ДатаОткрытияСчета</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ДатаОткрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаОткрытияСчета" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДатаЗакрытия --&gt; ДатаЗакрытияСчета</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ДатаЗакрытия" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаЗакрытияСчета" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; ТипСчета</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипСчета" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыБанковскихСчетов"/>
						<ПередВыгрузкой>Если Источник.ВалютаДенежныхСредств = Константы.ВалютаРегламентированногоУчета.Получить() Тогда
	Значение = "Рублевый";
	
Иначе
	Значение = "Валютный";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ККМСклад</Код>
				<Наименование>СправочникСсылка.КассыККМ --&gt; СправочникСсылка.МестаХранения</Наименование>
				<Порядок>1600</Порядок>
				<НеЗамещать>true</НеЗамещать>
				<Источник>СправочникСсылка.КассыККМ</Источник>
				<Приемник>СправочникСсылка.МестаХранения</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>ЧисловаяЧасть = "";
ПолучитьПрефиксЧислоНомера(Источник.Код, ЧисловаяЧасть);
Значение = ДобавитьКПрефиксу(ЧисловаяЧасть, "К", 5, "Справа");</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование> --&gt; ТипСклада</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<ПередВыгрузкой>Значение = "Розничный";</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Вспомогательные</Код>
			<Наименование>Вспомогательные</Наименование>
			<Порядок>700</Порядок>
			<Правило>
				<Код>ВидыДеятельности</Код>
				<Наименование> --&gt; СправочникСсылка.ВидыДеятельности</Наименование>
				<Порядок>700</Порядок>
				<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Наименование;

Если ПустаяСтрока(КлючВыгружаемыхДанных) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<НеЗамещать>true</НеЗамещать>
				<Приемник>СправочникСсылка.ВидыДеятельности</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование> --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование> --&gt; ХарактерДеятельности</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ХарактерДеятельности" Вид="Реквизит" Тип="ПеречислениеСсылка.ХарактерДеятельности"/>
						<ПередВыгрузкой>Значение = "Торговля";</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиЗатрат</Код>
				<Наименование> --&gt; СправочникСсылка.СтатьиЗатрат</Наименование>
				<Порядок>800</Порядок>
				<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Наименование;

Если ПустаяСтрока(КлючВыгружаемыхДанных) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<НеЗамещать>true</НеЗамещать>
				<Приемник>СправочникСсылка.СтатьиЗатрат</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование> --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДвиженияДенежныхСредств</Код>
				<Наименование> --&gt; СправочникСсылка.ДвиженияДенежныхСредств</Наименование>
				<Порядок>800</Порядок>
				<Приемник>СправочникСсылка.ДвиженияДенежныхСредств</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование> --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование> --&gt; ВидДвижения</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидДвижения" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДвиженийДенежныхСредств"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование> --&gt; РазрезДеятельности</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="РазрезДеятельности" Вид="Реквизит" Тип="ПеречислениеСсылка.РазрезыДеятельности"/>
						<ПередВыгрузкой>Значение = "Текущая";</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>НоменклатураПосредническаяУслуга</Код>
				<Наименование> --&gt; СправочникСсылка.Номенклатура</Наименование>
				<Порядок>900</Порядок>
				<Приемник>СправочникСсылка.Номенклатура</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование> --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Наименование" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = "Посредническая услуга в торговле";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; ВидДеятельности</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
						<ПередВыгрузкой>Значение = "ПосредническаяУслуга";</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование> --&gt; ЭтоГруппа</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Число"/>
						<ПередВыгрузкой>Значение = 0;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование> --&gt; ВидДеятельности</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидДеятельности" Вид="Реквизит" Тип="СправочникСсылка.ВидыДеятельности"/>
						<КодПравилаКонвертации>ВидыДеятельности                                  </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Наименование", "Посредническая услуга в торговле");
Значение.Вставить("ТипНоменклатуры", "ПосредническаяУслуга");</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>200</Порядок>
			<Правило Отключить="false">
				<Код>ПоступлениеМПЗвНТТ</Код>
				<Наименование>Поступление товаров и услуг в НТТ (товары)</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>ПоступлениеМПЗвНТТ                                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваровУслугВНТТ</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.ПоступлениеМПЗ</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПоступлениеМПЗ</Код>
				<Наименование>Поступление товаров и услуг (товары)</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>ПоступлениеМПЗ                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваровУслуг</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.ПоступлениеМПЗ</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;
	
ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПоступлениеТоваровУслугВНТТ</Код>
				<Наименование>Поступление товаров и услуг в НТТ (услуги)</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>УслугиСтороннихОрганизацийНТТ                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваровУслугВНТТ</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.УслугиСтороннихОрганизаций</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>УслугиСтороннихОрганизаций</Код>
				<Наименование>Поступление товаров и услуг (услуги)</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>УслугиСтороннихОрганизаций                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваровУслуг</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.УслугиСтороннихОрганизаций</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>АвансовыйОтчет</Код>
				<Наименование>Авансовый отчет</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>АвансовыйОтчет                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.АвансовыйОтчет</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.АвансовыйОтчет</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>Реализация</Код>
				<Наименование>Реализация товаров и услуг (покупателю)</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>Реализация                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РеализацияТоваровУслуг</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.Реализация</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>РеализацияОтгр</Код>
				<Наименование>Реализация товаров и услуг (комиссионеру)</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>РеализацияОтгр                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОтчетКомиссионераОПродажах</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.Реализация</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>РеализацияРозн</Код>
				<Наименование>Отчет о розничных продажах</Наименование>
				<Порядок>700</Порядок>
				<КодПравилаКонвертации>РеализацияРозн                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОтчетОРозничныхПродажах</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.Реализация</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>РеализацияКомУслуг</Код>
				<Наименование>Отчет комитенту о продажах</Наименование>
				<Порядок>900</Порядок>
				<КодПравилаКонвертации>РеализацияКомУслуг                                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОтчетКомитентуОПродажах</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.Реализация</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>УслугиСтороннихОрганизацийДопРасходы</Код>
				<Наименование>Поступление доп. расходов</Наименование>
				<Порядок>1000</Порядок>
				<КодПравилаКонвертации>УслугиСтороннихОрганизацийДопРасходы              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеДопРасходов</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.УслугиСтороннихОрганизаций</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеДопРасходов.ВнутреннийРасход Тогда
	Отказ = Истина;
	
ИначеЕсли (Параметры.СписокПодразделений.НайтиПоЗначению(Объект.Подразделение) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ПриходныйОрдер</Код>
				<Наименование>Приходный кассовый ордер</Наименование>
				<Порядок>1100</Порядок>
				<КодПравилаКонвертации>ПриходныйОрдер                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПриходныйКассовыйОрдер</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.ПриходныйОрдер</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>РасходныйОрдер</Код>
				<Наименование>Расходный кассовый ордер</Наименование>
				<Порядок>1200</Порядок>
				<КодПравилаКонвертации>РасходныйОрдер                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РасходныйКассовыйОрдер</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.РасходныйОрдер</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления или Не Объект.ОтражатьВБухгалтерскомУчете Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ИнвентаризацияТМЦ</Код>
				<Наименование>Инвентаризация товаров на складе</Наименование>
				<Порядок>1300</Порядок>
				<КодПравилаКонвертации>ИнвентаризацияТМЦ                                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ИнвентаризацияТоваровНаСкладе</ОбъектВыборки>
				<ИмяТипаПриемника>ДокументСсылка.ИнвентаризацияТМЦ</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>Если Объект.ПометкаУдаления Тогда
	Отказ = Истина;

ИначеЕсли Объект.Организация &lt;&gt; Параметры.ЮридическоеЛицо Тогда
	Отказ = Истина;

ИначеЕсли Объект.Склад.ВидСклада = Перечисления.ВидыСкладов.НТТ Тогда
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>Выписка</Код>
				<Наименование>Банковские расчетные документы</Наименование>
				<Порядок>1400</Порядок>
				<КодПравилаКонвертации>Выписка                                           </КодПравилаКонвертации>
				<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
				<ИмяТипаПриемника>ДокументСсылка.Выписка</ИмяТипаПриемника>
				<ПередОбработкойПравила>ТЗ = "ВЫБРАТЬ
	|КонецПериода(БанковскиеВыписки.ДатаОплаты, День) КАК Дата,
	|БанковскиеВыписки.СчетОрганизации КАК БанковскийСчет,
	|БанковскиеВыписки.Валюта КАК Валюта,
	|БанковскиеВыписки.Ссылка КАК Объект
	|	
	|ИЗ
	|	ЖурналДокументов.РасчетныеДокументыБанк КАК БанковскиеВыписки
	|
	|ГДЕ
	|	(БанковскиеВыписки.Ссылка.ОтражатьВБухгалтерскомУчете = ИСТИНА)
	|	И (БанковскиеВыписки.Ссылка.ПометкаУдаления = ЛОЖЬ)
	|	И (БанковскиеВыписки.Организация = &amp;Организация)";

Если ЗначениеЗаполнено(ДатаНачала) и ЗначениеЗаполнено(ДатаОкончания) Тогда
	ТЗ = ТЗ + "
	| И (БанковскиеВыписки.ДатаОплаты МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания)";

ИначеЕсли ЗначениеЗаполнено(ДатаНачала) и (НЕ ЗначениеЗаполнено(ДатаОкончания)) Тогда
	ТЗ = ТЗ + "
	| И (БанковскиеВыписки.ДатаОплаты &gt;= &amp;ДатаНачала)";

ИначеЕсли (НЕ ЗначениеЗаполнено(ДатаНачала)) и ЗначениеЗаполнено(ДатаОкончания) Тогда
	ТЗ = ТЗ + "
	| И (БанковскиеВыписки.ДатаОплаты &lt;= &amp;ДатаОкончания)";
КонецЕсли;	

ТЗ = ТЗ + "
	|
	|УПОРЯДОЧИТЬ ПО
	|	Дата,
	|	БанковскийСчет,
	|	Валюта
	|
	|ИТОГИ ПО
	|	Дата,
	|	БанковскийСчет,
	|	Валюта";


Запрос = Новый Запрос(ТЗ);
Запрос.УстановитьПараметр("ДатаНачала", ДатаНачала);
Запрос.УстановитьПараметр("ДатаОкончания", ДатаОкончания);
Запрос.УстановитьПараметр("Организация", Параметры.ЮридическоеЛицо);
РезультатЗапроса = Запрос.Выполнить();

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("ТабличнаяЧасть");
ВыборкаДанных.Колонки.Добавить("ДатаДок");
ВыборкаДанных.Колонки.Добавить("БанковскийСчет");
ВыборкаДанных.Колонки.Добавить("Валюта");

Выборка1 = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока Выборка1.Следующий() Цикл
	Выборка2 = Выборка1.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока Выборка2.Следующий() Цикл
		Выборка3 = Выборка2.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока Выборка3.Следующий() Цикл
			СтрокаВыборкиДанных = ВыборкаДанных.Добавить();
			СтрокаВыборкиДанных.ДатаДок = Выборка3.Дата;
			СтрокаВыборкиДанных.БанковскийСчет = Выборка3.БанковскийСчет;
			СтрокаВыборкиДанных.Валюта = Выборка3.Валюта;
			
			СтрокаВыборкиДанных.ТабличнаяЧасть = Новый ТаблицаЗначений;
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("Док");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("ВидДвижения");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("КоррСчет");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("Субконто1");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("ИмяПКО1");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("Субконто2");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("ИмяПКО2");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("Субконто3");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("ИмяПКО3");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("Приход");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("Расход");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("НомерДокВходящий");
			СтрокаВыборкиДанных.ТабличнаяЧасть.Колонки.Добавить("ДатаДокВходящий");
			
			Выборка4 = Выборка3.Выбрать();
			Пока Выборка4.Следующий() Цикл
				
				//Если (Параметры.СписокПодразделений.НайтиПоЗначению(Выборка4.Объект.ПодразделениеКомпании) = Неопределено)  и (Параметры.СписокПодразделений.Количество() &gt; 0) Тогда
				//	Продолжить;
				//КонецЕсли;
								
				Если (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ОплатаПокупателя)
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ВозвратДенежныхСредствПоставщиком) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.РасчетыПоКредитамИЗаймам) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ПрочиеРасчетыСКонтрагентами) 
					//ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ПоступлениеОплатыПоПлатежнымКартам) 
					//ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ПоступлениеОплатыПоБанковскимКредитам) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ОплатаПоставщику) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ВозвратДенежныхСредствПокупателю) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийППИсходящее.РасчетыПоКредитамИЗаймамСКонтрагентами) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ПрочиеРасчетыСКонтрагентами) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ОплатаПоставщику) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ВозвратДенежныхСредствПокупателю) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.РасчетыПоКредитамИЗаймам) 
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ПрочиеРасчетыСКонтрагентами) Тогда
					
					Если Выборка4.Объект.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
						Для Каждого Строка Из Выборка4.Объект.РасшифровкаПлатежа Цикл
							СтрокаВыписки = СтрокаВыборкиДанных.ТабличнаяЧасть.Добавить();
							СтрокаВыписки.Док = Выборка4.Объект;
							СтрокаВыписки.ВидДвижения = Новый Структура("Наименование, ВидДвижения");
							
							СтрокаВыписки.Субконто1 = СтрокаВыписки.Док.Контрагент;
							СтрокаВыписки.ИмяПКО1 = "Контрагенты";
							СтрокаВыписки.Субконто2 = Строка.ДоговорКонтрагента;
							СтрокаВыписки.ИмяПКО2 = "Договоры";
							
							Если СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ОплатаПокупателя Тогда
								СтрокаВыписки.ВидДвижения.Наименование = "Поступления от покупателей";
								СтрокаВыписки.ВидДвижения.ВидДвижения  = "ВыручкаПоОбычнымВидамДеятельности";
								СтрокаВыписки.КоррСчет = "";
								СтрокаВыписки.Приход = Строка.СуммаПлатежа;
								СтрокаВыписки.Расход = 0;
								
							ИначеЕсли (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.РасчетыПоКредитамИЗаймам) 
								ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ПрочиеРасчетыСКонтрагентами) Тогда
								
								СтрокаВыписки.ВидДвижения.Наименование = "Прочие поступления";
								СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеПоступления";
								СтрокаВыписки.КоррСчет = "";
								СтрокаВыписки.Приход = Строка.СуммаПлатежа;
								СтрокаВыписки.Расход = 0;
								
							ИначеЕсли СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ВозвратДенежныхСредствПоставщиком Тогда
								СтрокаВыписки.ВидДвижения.Наименование = "Прочие поступления";
								СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеПоступления";
								Если Выборка4.Валюта &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
									Если Параметры.ОбъектНУ = 1 Тогда
										СтрокаВыписки.КоррСчет = "60.22";
									Иначе
										СтрокаВыписки.КоррСчет = "60.11";
									КонецЕсли;
								Иначе
									Если Параметры.ОбъектНУ = 1 Тогда
										СтрокаВыписки.КоррСчет = "60.2";
									Иначе
										СтрокаВыписки.КоррСчет = "60.1";
									КонецЕсли;
								КонецЕсли;
								Если Параметры.ОбъектНУ = 1 Тогда
									СтрокаВыписки.Субконто3 = "РасходыНаПриобретениеМатериалов";
									СтрокаВыписки.ИмяПКО3 = "ВидыРасчетовСПоставщиками";
								КонецЕсли;
								СтрокаВыписки.Приход = Строка.СуммаПлатежа;
								СтрокаВыписки.Расход = 0;
								
							ИначеЕсли (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ОплатаПоставщику) 
								ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ОплатаПоставщику) Тогда
								СтрокаВыписки.ВидДвижения.Наименование = "Оплата поставщику";
								СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПриобретениеТоваровПродукцииРаботИУслуг";
								СтрокаВыписки.КоррСчет = "";
								
								Если Параметры.ОбъектНУ = 1 Тогда
									СтрокаВыписки.Субконто3 = "РасходыНаПриобретениеМатериалов";
									СтрокаВыписки.ИмяПКО3 = "ВидыРасчетовСПоставщиками";
								КонецЕсли;
								СтрокаВыписки.Приход = 0;
								СтрокаВыписки.Расход = Строка.СуммаПлатежа;
								
							ИначеЕсли (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ВозвратДенежныхСредствПокупателю) 
								ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ВозвратДенежныхСредствПокупателю) Тогда
								
								СтрокаВыписки.ВидДвижения.Наименование = "Прочие выплаты";
								СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеВыплатыИПеречисления";
								Если Выборка4.Валюта &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
									СтрокаВыписки.КоррСчет = "62.11";
								Иначе
									СтрокаВыписки.КоррСчет = "62.1";
								КонецЕсли;
								
								СтрокаВыписки.Приход = 0;
								СтрокаВыписки.Расход = Строка.СуммаПлатежа;
								
							ИначеЕсли (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийППИсходящее.РасчетыПоКредитамИЗаймамСКонтрагентами) 
								ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.РасчетыПоКредитамИЗаймам)
								ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ПрочиеРасчетыСКонтрагентами) 
								ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ПрочиеРасчетыСКонтрагентами) Тогда
								
								СтрокаВыписки.ВидДвижения.Наименование = "Прочие выплаты";
								СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеВыплатыИПеречисления";
								СтрокаВыписки.КоррСчет = "";
								
								Если Параметры.ОбъектНУ = 1 Тогда
									СтрокаВыписки.Субконто3 = "";
									СтрокаВыписки.ИмяПКО3 = "ВидыРасчетовСПоставщиками";
								КонецЕсли;
					
								СтрокаВыписки.Приход = 0;
								СтрокаВыписки.Расход = Строка.СуммаПлатежа;
								
							КонецЕсли;
						КонецЦикла;
					Иначе
						СтрокаВыписки = СтрокаВыборкиДанных.ТабличнаяЧасть.Добавить();
						СтрокаВыписки.Док = Выборка4.Объект;
						СтрокаВыписки.ВидДвижения = Новый Структура("Наименование, ВидДвижения");
						
						СтрокаВыписки.Субконто1 = СтрокаВыписки.Док.Контрагент;
						СтрокаВыписки.ИмяПКО1 = "Контрагенты";
						
						Если СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ОплатаПокупателя Тогда
							СтрокаВыписки.ВидДвижения.Наименование = "Поступления от покупателей";
							СтрокаВыписки.ВидДвижения.ВидДвижения  = "ВыручкаПоОбычнымВидамДеятельности";
							СтрокаВыписки.КоррСчет = "";
							СтрокаВыписки.Приход = СтрокаВыписки.Док.СуммаДокумента;
							СтрокаВыписки.Расход = 0;
							
						ИначеЕсли (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.РасчетыПоКредитамИЗаймам) 
							ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ПрочиеРасчетыСКонтрагентами) Тогда
							
							СтрокаВыписки.ВидДвижения.Наименование = "Прочие поступления";
							СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеПоступления";
							СтрокаВыписки.КоррСчет = "";
							СтрокаВыписки.Приход = СтрокаВыписки.Док.СуммаДокумента;
							СтрокаВыписки.Расход = 0;
							
						ИначеЕсли СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ВозвратДенежныхСредствПоставщиком Тогда
							СтрокаВыписки.ВидДвижения.Наименование = "Прочие поступления";
							СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеПоступления";
							Если Выборка4.Валюта &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
								Если Параметры.ОбъектНУ = 1 Тогда
									СтрокаВыписки.КоррСчет = "60.22";
								Иначе
									СтрокаВыписки.КоррСчет = "60.11";
								КонецЕсли;
							Иначе
								Если Параметры.ОбъектНУ = 1 Тогда
									СтрокаВыписки.КоррСчет = "60.2";
								Иначе
									СтрокаВыписки.КоррСчет = "60.1";
								КонецЕсли;
							КонецЕсли;
							Если Параметры.ОбъектНУ = 1 Тогда
								СтрокаВыписки.Субконто3 = "РасходыНаПриобретениеМатериалов";
								СтрокаВыписки.ИмяПКО3 = "ВидыРасчетовСПоставщиками";
							КонецЕсли;
							СтрокаВыписки.Приход = СтрокаВыписки.Док.СуммаДокумента;
							СтрокаВыписки.Расход = 0;
							
						ИначеЕсли (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ОплатаПоставщику) 
							ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ОплатаПоставщику) Тогда
							СтрокаВыписки.ВидДвижения.Наименование = "Оплата поставщику";
							СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПриобретениеТоваровПродукцииРаботИУслуг";
							СтрокаВыписки.КоррСчет = "";
							
							Если Параметры.ОбъектНУ = 1 Тогда
								СтрокаВыписки.Субконто3 = "РасходыНаПриобретениеМатериалов";
								СтрокаВыписки.ИмяПКО3 = "ВидыРасчетовСПоставщиками";
							КонецЕсли;
							СтрокаВыписки.Приход = 0;
							СтрокаВыписки.Расход = СтрокаВыписки.Док.СуммаДокумента;
							
						ИначеЕсли (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ВозвратДенежныхСредствПокупателю) 
							ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ВозвратДенежныхСредствПокупателю) Тогда
							
							СтрокаВыписки.ВидДвижения.Наименование = "Прочие выплаты";
							СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеВыплатыИПеречисления";
							Если Выборка4.Валюта &lt;&gt; Константы.ВалютаРегламентированногоУчета.Получить() Тогда
								СтрокаВыписки.КоррСчет = "62.11";
							Иначе
								СтрокаВыписки.КоррСчет = "62.1";
							КонецЕсли;
							
							СтрокаВыписки.Приход = 0;
							СтрокаВыписки.Расход = СтрокаВыписки.Док.СуммаДокумента;
							
						ИначеЕсли (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийППИсходящее.РасчетыПоКредитамИЗаймамСКонтрагентами) 
							ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.РасчетыПоКредитамИЗаймам)
							ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ПрочиеРасчетыСКонтрагентами) 
							ИЛИ (СтрокаВыписки.Док.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ПрочиеРасчетыСКонтрагентами) Тогда
							
							СтрокаВыписки.ВидДвижения.Наименование = "Прочие выплаты";
							СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеВыплатыИПеречисления";
							СтрокаВыписки.КоррСчет = "";
							
							Если Параметры.ОбъектНУ = 1 Тогда
								СтрокаВыписки.Субконто3 = "";
								СтрокаВыписки.ИмяПКО3 = "ВидыРасчетовСПоставщиками";
							КонецЕсли;
							
							СтрокаВыписки.Приход = 0;
							СтрокаВыписки.Расход = СтрокаВыписки.Док.СуммаДокумента;
							
						КонецЕсли;
					КонецЕсли;
					
				ИначеЕсли Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеБезналичныхДенежныхСредств.ПрочееПоступлениеБезналичныхДенежныхСредств Тогда
					СтрокаВыписки = СтрокаВыборкиДанных.ТабличнаяЧасть.Добавить();
					СтрокаВыписки.Док = Выборка4.Объект;
					СтрокаВыписки.ВидДвижения = Новый Структура("Наименование, ВидДвижения");
					
					СтрокаВыписки.ВидДвижения.Наименование = "Прочие поступления";
					СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеПоступления";
					СтрокаВыписки.КоррСчет = "";
					СтрокаВыписки.Приход = СтрокаВыписки.Док.СуммаДокумента;
					СтрокаВыписки.Расход = 0;
									
				ИначеЕсли (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ПрочееСписаниеБезналичныхДенежныхСредств)
					ИЛИ (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийСписаниеБезналичныхДенежныхСредств.ПрочееСписаниеБезналичныхДенежныхСредств) Тогда
					СтрокаВыписки = СтрокаВыборкиДанных.ТабличнаяЧасть.Добавить();
					СтрокаВыписки.Док = Выборка4.Объект;
					СтрокаВыписки.ВидДвижения = Новый Структура("Наименование, ВидДвижения");
					
					СтрокаВыписки.ВидДвижения.Наименование = "Прочие выплаты";
					СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПрочиеВыплатыИПеречисления";
					СтрокаВыписки.КоррСчет = "";
					СтрокаВыписки.Субконто1 = "";
					СтрокаВыписки.ИмяПКО1 = "Контрагенты";
					СтрокаВыписки.Субконто2 = "";
					СтрокаВыписки.ИмяПКО2 = "Договоры";
					Если Параметры.ОбъектНУ = 1 Тогда
						СтрокаВыписки.Субконто3 = "";
						СтрокаВыписки.ИмяПКО3 = "ВидыРасчетовСПоставщиками";
					КонецЕсли;

					СтрокаВыписки.Приход = 0;
					СтрокаВыписки.Расход = СтрокаВыписки.Док.СуммаДокумента;
				ИначеЕсли (Выборка4.Объект.ВидОперации = Перечисления.ВидыОперацийППИсходящее.ПеречислениеНалога) Тогда
					СтрокаВыписки = СтрокаВыборкиДанных.ТабличнаяЧасть.Добавить();
					СтрокаВыписки.Док = Выборка4.Объект;
					СтрокаВыписки.ВидДвижения = Новый Структура("Наименование, ВидДвижения");
					
					СтрокаВыписки.ВидДвижения.Наименование = "Платежи в бюджет";
					СтрокаВыписки.ВидДвижения.ВидДвижения  = "ПлатежиВБюджет";
					СтрокаВыписки.КоррСчет = "";
					
					СтрокаВыписки.Приход = 0;
					СтрокаВыписки.Расход = СтрокаВыписки.Док.СуммаДокумента;
				КонецЕсли;
				
				МетаданныеДокумента = Выборка4.Объект.ПолучитьОбъект().Метаданные();
				Если ОбщегоНазначения.ЕстьРеквизитДокумента("ДатаВходящегоДокумента", МетаданныеДокумента) Тогда
					СтрокаВыписки.ДатаДокВходящий = Выборка4.Объект.ДатаВходящегоДокумента;
				Иначе
					СтрокаВыписки.ДатаДокВходящий = "";
				КонецЕсли;
				
				Если ОбщегоНазначения.ЕстьРеквизитДокумента("НомерВходящегоДокумента", МетаданныеДокумента) Тогда
					СтрокаВыписки.НомерДокВходящий = Выборка4.Объект.НомерВходящегоДокумента;
				Иначе
					СтрокаВыписки.НомерДокВходящий  = "";
				КонецЕсли;
				
			КонецЦикла;
		КонецЦикла;
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
			</Правило>
		</Группа>
		<Группа Отключить="true">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>300</Порядок>
			<Правило Отключить="true">
				<Код>Банки</Код>
				<Наименование>Банки</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>Банки                                             </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Банки</ОбъектВыборки>
				<ИмяТипаПриемника>СправочникСсылка.Банки</ИмяТипаПриемника>
			</Правило>
			<Правило Отключить="true">
				<Код>Валюты</Код>
				<Наименование>Валюты</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>Валюты                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
				<ИмяТипаПриемника>СправочникСсылка.Валюты</ИмяТипаПриемника>
			</Правило>
			<Правило Отключить="true">
				<Код>МестаХранения</Код>
				<Наименование>Склады (места хранения)</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>МестаХранения                                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Склады</ОбъектВыборки>
				<ИмяТипаПриемника>СправочникСсылка.МестаХранения</ИмяТипаПриемника>
			</Правило>
			<Правило Отключить="true">
				<Код>Номенклатура</Код>
				<Наименование>Номенклатура</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
				<ИмяТипаПриемника>СправочникСсылка.Номенклатура</ИмяТипаПриемника>
				<ПередВыгрузкойОбъекта>ИсходящиеДанные = Новый Структура;
ИсходящиеДанные.Вставить("ТипНоменклатуры", "Товар");

Если Не Объект.ЭтоГруппа Тогда
	Если Объект.Услуга Тогда
		ИсходящиеДанные.Вставить("ТипНоменклатуры", "Услуга");
	КонецЕсли;
КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="true">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
				<ИмяТипаПриемника>СправочникСсылка.Контрагенты</ИмяТипаПриемника>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Алгоритм Имя="ПересчетСуммыИсточникаВВалютуДоговора" ИспользуетсяПриЗагрузке="false">
			<Текст>ДатаДок = Источник.Дата;

ВалютаНач = Источник.ВалютаДокумента;
ПоКурсуНач = Источник.КурсВзаиморасчетов;
ПоКратностьНач = Источник.КратностьВзаиморасчетов;

Если ПоКурсуНач = 0 Тогда
	ФильтрПоВалютеНач = Новый Структура("Валюта", ВалютаНач);
	ПоКурсуНач = РегистрыСведений.КурсыВалют.ПолучитьПоследнее(ДатаДок, ФильтрПоВалютеНач).Курс;
	ПоКратностьНач = РегистрыСведений.КурсыВалют.ПолучитьПоследнее(ДатаДок, ФильтрПоВалютеНач).Кратность;
КонецЕсли;

ВалютаКон = Источник.ДоговорКонтрагента.ВалютаВзаиморасчетов;
ПоКурсуКон = 0;
ПоКратностьКон = 0;

Если ПоКурсуКон = 0 Тогда
	ФильтрПоВалютеКон = Новый Структура("Валюта", ВалютаКон);
	ПоКурсуКон = РегистрыСведений.КурсыВалют.ПолучитьПоследнее(ДатаДок, ФильтрПоВалютеКон).Курс;
	ПоКратностьКон = РегистрыСведений.КурсыВалют.ПолучитьПоследнее(ДатаДок, ФильтрПоВалютеКон).Кратность;
КонецЕсли;

ПоКратностьНач  = ?(ПоКратностьНач = 0, 1, ПоКратностьНач);
ПоКратностьКон  = ?(ПоКратностьКон = 0, 1, ПоКратностьКон);
ПоКурсуНач 		= ?(ПоКурсуНач = 0, 1, ПоКурсуНач);
ПоКурсуКон 		= ?(ПоКурсуКон = 0, 1, ПоКурсуКон);

Значение = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(Значение, ВалютаНач, ВалютаКон, ПоКурсуНач, ПоКурсуКон, ПоКратностьНач, ПоКратностьКон);</Текст>
		</Алгоритм>
	</Алгоритмы>
	<Запросы>
		<Запрос Имя="ТабличнаяЧастьАвансовогоОтчета" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	АвансовыйОтчетТовары.ВидДокВходящий КАК НаименованиеДокумента,
	АвансовыйОтчетТовары.НомерВходящегоДокумента КАК НомерДокумента,
	АвансовыйОтчетТовары.ДатаВходящегоДокумента КАК ДатаДокумента,
	АвансовыйОтчетТовары.Номенклатура КАК Субконто1,
	NULL КАК Субконто2,
	АвансовыйОтчетТовары.Количество,
	АвансовыйОтчетТовары.Сумма,
	АвансовыйОтчетТовары.СтавкаНДС,
	АвансовыйОтчетТовары.СуммаНДС,
	1 КАК НомерТЧ
ИЗ
	Документ.АвансовыйОтчет.Товары КАК АвансовыйОтчетТовары
ГДЕ
	АвансовыйОтчетТовары.Ссылка = &amp;Источник

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	АвансовыйОтчетОплатаПоставщикам.ВидДокВходящий,
	АвансовыйОтчетОплатаПоставщикам.НомерВходящегоДокумента,
	АвансовыйОтчетОплатаПоставщикам.ДатаВходящегоДокумента,
	АвансовыйОтчетОплатаПоставщикам.Контрагент,
	АвансовыйОтчетОплатаПоставщикам.ДоговорКонтрагента,
	0,
	АвансовыйОтчетОплатаПоставщикам.Сумма,
	NULL,
	0,
	2
ИЗ
	Документ.АвансовыйОтчет.ОплатаПоставщикам КАК АвансовыйОтчетОплатаПоставщикам
ГДЕ
	АвансовыйОтчетОплатаПоставщикам.Ссылка = &amp;Источник

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	АвансовыйОтчетПрочее.ВидДокВходящий,
	АвансовыйОтчетПрочее.НомерВходящегоДокумента,
	АвансовыйОтчетПрочее.ДатаВходящегоДокумента,
	АвансовыйОтчетПрочее.СтатьяЗатрат,
	NULL,
	0,
	АвансовыйОтчетПрочее.Сумма,
	АвансовыйОтчетПрочее.СтавкаНДС,
	АвансовыйОтчетПрочее.СуммаНДС,
	3
ИЗ
	Документ.АвансовыйОтчет.Прочее КАК АвансовыйОтчетПрочее
ГДЕ
	АвансовыйОтчетПрочее.Ссылка = &amp;Источник</Текст>
		</Запрос>
		<Запрос Имя="ТабличнаяЧастьОтчетаККМ" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	РеализацияТоваров.Номенклатура КАК Номенклатура,
	РеализацияТоваров.СтавкаНДС,
	ПартииТоваровКомпании.СтатусПартии,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ВЫБОР 
				КОГДА РеализацияТоваров.Количество &lt;&gt; 0 И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
					ПартииТоваровКомпании.Количество * РеализацияТоваров.Коэффициент * РеализацияТоваров.Сумма / РеализацияТоваров.Количество / РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент 
				ИНАЧЕ 
					0 
				КОНЕЦ 
		ИНАЧЕ 
			РеализацияТоваров.Сумма 
		КОНЕЦ 
	КАК Сумма,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ВЫБОР 
				КОГДА РеализацияТоваров.Количество &lt;&gt; 0 И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
					ПартииТоваровКомпании.Количество * РеализацияТоваров.Коэффициент * РеализацияТоваров.СуммаНДС / РеализацияТоваров.Количество / РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент 
				ИНАЧЕ 
					0 
				КОНЕЦ 
		ИНАЧЕ 
			РеализацияТоваров.СуммаНДС 
		КОНЕЦ 
	КАК НДС,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ВЫБОР 
				КОГДА РеализацияТоваров.Количество &lt;&gt; 0 И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 И РеализацияТоваров.Коэффициент &lt;&gt; 0 ТОГДА
					РеализацияТоваров.Цена / РеализацияТоваров.Коэффициент 
				ИНАЧЕ 
					0 
				КОНЕЦ 
		ИНАЧЕ 
			ВЫБОР 
				КОГДА РеализацияТоваров.Коэффициент &lt;&gt; 0 Тогда
					РеализацияТоваров.Цена / РеализацияТоваров.Коэффициент 
				ИНАЧЕ
				    0
				КОНЕЦ
		КОНЕЦ 
	КАК Цена,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ВЫБОР 
				КОГДА РеализацияТоваров.Количество &lt;&gt; 0 И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
					ПартииТоваровКомпании.Количество * РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент 
				ИНАЧЕ 
					0 
				КОНЕЦ 
		ИНАЧЕ 
			РеализацияТоваров.Количество * РеализацияТоваров.Коэффициент
		КОНЕЦ 
	КАК Количество
ИЗ
	Документ.ОтчетОРозничныхПродажах.Товары КАК РеализацияТоваров
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровКомпании
		ПО РеализацияТоваров.Номенклатура = ПартииТоваровКомпании.Номенклатура 
		И РеализацияТоваров.Ссылка = ПартииТоваровКомпании.Регистратор И РеализацияТоваров.СерияНоменклатуры = ПартииТоваровКомпании.СерияНоменклатуры 
		И РеализацияТоваров.ХарактеристикаНоменклатуры = ПартииТоваровКомпании.ХарактеристикаНоменклатуры
ГДЕ
	РеализацияТоваров.Ссылка = &amp;Источник И
	НЕ РеализацияТоваров.Номенклатура.Комплект
	
ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	РеализацияТоваровСоставНабора.Номенклатура КАК Номенклатура,
	РеализацияТоваровТовары.СтавкаНДС,
	ПартииТоваровКомпании.СтатусПартии,
ВЫБОР КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0	ТОГДА 
	ВЫБОР КОГДА РеализацияТоваровТовары.Количество &lt;&gt; 0	И РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
		ПартииТоваровКомпании.Количество * 
			(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
				РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.Сумма) / Коэффициенты.БазаЦены 	
			ИНАЧЕ 
				РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.Сумма) / Коэффициенты.БазаКоличества
			КОНЕЦ) / 
		(РеализацияТоваровСоставНабора.Количество * РеализацияТоваровТовары.Количество) / РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	ИНАЧЕ 
		0
	КОНЕЦ
ИНАЧЕ 
	(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
		РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.Сумма) / Коэффициенты.БазаЦены 	
	ИНАЧЕ 
		РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.Сумма) / Коэффициенты.БазаКоличества
	КОНЕЦ)
КОНЕЦ,
ВЫБОР КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0	ТОГДА 
	ВЫБОР КОГДА РеализацияТоваровТовары.Количество &lt;&gt; 0	И РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
		ПартииТоваровКомпании.Количество * 
			(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
				РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.СуммаНДС) / Коэффициенты.БазаЦены 	
			ИНАЧЕ 
				РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.СуммаНДС) / Коэффициенты.БазаКоличества
			КОНЕЦ) / 
		(РеализацияТоваровСоставНабора.Количество * РеализацияТоваровТовары.Количество) / РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	ИНАЧЕ 
		0
	КОНЕЦ
ИНАЧЕ 
	(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
		РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.СуммаНДС) / Коэффициенты.БазаЦены 	
	ИНАЧЕ 
		РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.СуммаНДС) / Коэффициенты.БазаКоличества
	КОНЕЦ)
КОНЕЦ,
ВЫБОР КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0	ТОГДА 
	ВЫБОР КОГДА РеализацияТоваровТовары.Количество &lt;&gt; 0	И РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
		ПартииТоваровКомпании.Количество * 
			(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
				РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.Цена) / Коэффициенты.БазаЦены 	
			ИНАЧЕ 
				РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.Цена) / Коэффициенты.БазаКоличества
			КОНЕЦ) / 
		(РеализацияТоваровСоставНабора.Количество * РеализацияТоваровТовары.Количество) / РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	ИНАЧЕ 
		0
	КОНЕЦ
ИНАЧЕ 
	(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
		РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.Цена) / Коэффициенты.БазаЦены 	
	ИНАЧЕ 
		РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.Цена) / Коэффициенты.БазаКоличества
	КОНЕЦ)
КОНЕЦ,
	ВЫБОР КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА
		ПартииТоваровКомпании.Количество * РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	ИНАЧЕ 
		РеализацияТоваровСоставНабора.Количество * РеализацияТоваровТовары.Количество
	КОНЕЦ
ИЗ
	Документ.ОтчетОРозничныхПродажах.СоставНабора КАК РеализацияТоваровСоставНабора
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровКомпании
		ПО РеализацияТоваровСоставНабора.Номенклатура = ПартииТоваровКомпании.Номенклатура
			И РеализацияТоваровСоставНабора.Ссылка = ПартииТоваровКомпании.Регистратор
			И (РеализацияТоваровСоставНабора.СерияНоменклатуры = ПартииТоваровКомпании.СерияНоменклатуры)
			И РеализацияТоваровСоставНабора.ХарактеристикаНоменклатуры = ПартииТоваровКомпании.ХарактеристикаНоменклатуры
			
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ОтчетОРозничныхПродажах.Товары КАК РеализацияТоваровТовары
		ПО РеализацияТоваровСоставНабора.КлючСтроки = РеализацияТоваровТовары.КлючСтроки
			И РеализацияТоваровСоставНабора.Ссылка = РеализацияТоваровТовары.Ссылка
			
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
							РеализацияТоваровТоварыКоэфф.КлючСтроки,
							СУММА(РеализацияТоваровСоставНабораКоэфф.Цена * РеализацияТоваровСоставНабораКоэфф.Количество) КАК БазаЦены,
							СУММА(РеализацияТоваровСоставНабораКоэфф.Количество) КАК БазаКоличества
						ИЗ
							Документ.ОтчетОРозничныхПродажах.Товары КАК РеализацияТоваровТоварыКоэфф
							ЛЕВОЕ СОЕДИНЕНИЕ Документ.ОтчетОРозничныхПродажах.СоставНабора КАК РеализацияТоваровСоставНабораКоэфф
							ПО РеализацияТоваровТоварыКоэфф.КлючСтроки = РеализацияТоваровСоставНабораКоэфф.КлючСтроки
								И РеализацияТоваровТоварыКоэфф.Ссылка = РеализацияТоваровСоставНабораКоэфф.Ссылка
						ГДЕ
							РеализацияТоваровТоварыКоэфф.Ссылка = &amp;Источник И
							РеализацияТоваровТоварыКоэфф.Номенклатура.Комплект
						СГРУППИРОВАТЬ ПО
							РеализацияТоваровТоварыКоэфф.КлючСтроки) КАК Коэффициенты
		ПО РеализацияТоваровСоставНабора.КлючСтроки = Коэффициенты.КлючСтроки 

ГДЕ
	РеализацияТоваровСоставНабора.Ссылка = &amp;Источник И
	РеализацияТоваровСоставНабора.Количество &gt; 0</Текст>
		</Запрос>
		<Запрос Имя="ТабличнаяЧастьОтчетаКомиссионера" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	РеализацияТоваров.Номенклатура КАК Номенклатура,
	РеализацияТоваров.СтавкаНДС,
	ПартииТоваровКомпании.СтатусПартии,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ВЫБОР 
				КОГДА РеализацияТоваров.Количество &lt;&gt; 0 И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
					ПартииТоваровКомпании.Количество * РеализацияТоваров.Коэффициент * РеализацияТоваров.Сумма / РеализацияТоваров.Количество / РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент 
				ИНАЧЕ 
					0 
				КОНЕЦ 
		ИНАЧЕ 
			РеализацияТоваров.Сумма 
		КОНЕЦ 
	КАК Сумма,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ВЫБОР 
				КОГДА РеализацияТоваров.Количество &lt;&gt; 0 И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
					ПартииТоваровКомпании.Количество * РеализацияТоваров.Коэффициент * РеализацияТоваров.СуммаНДС / РеализацияТоваров.Количество / РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент 
				ИНАЧЕ 
					0 
				КОНЕЦ 
		ИНАЧЕ 
			РеализацияТоваров.СуммаНДС 
		КОНЕЦ 
	КАК НДС,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ВЫБОР 
				КОГДА РеализацияТоваров.Количество &lt;&gt; 0 И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 И РеализацияТоваров.Коэффициент &lt;&gt; 0 ТОГДА
					РеализацияТоваров.Цена / РеализацияТоваров.Коэффициент 
				ИНАЧЕ 
					0 
				КОНЕЦ 
		ИНАЧЕ 
			ВЫБОР 
				КОГДА РеализацияТоваров.Коэффициент &lt;&gt; 0 Тогда
					РеализацияТоваров.Цена / РеализацияТоваров.Коэффициент 
				ИНАЧЕ
				    0
				КОНЕЦ
		КОНЕЦ 
	КАК Цена,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ВЫБОР 
				КОГДА РеализацияТоваров.Количество &lt;&gt; 0 И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
					ПартииТоваровКомпании.Количество * РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент 
				ИНАЧЕ 
					0 
				КОНЕЦ 
		ИНАЧЕ 
			РеализацияТоваров.Количество * РеализацияТоваров.Коэффициент
		КОНЕЦ 
	КАК Количество
	
ИЗ
	Документ.ОтчетКомиссионераОПродажах.Товары КАК РеализацияТоваров
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ПартииТоваровПереданные КАК ПартииТоваровКомпании
		ПО РеализацияТоваров.Номенклатура = ПартииТоваровКомпании.Номенклатура 
		И РеализацияТоваров.Ссылка = ПартииТоваровКомпании.Регистратор
		И РеализацияТоваров.ХарактеристикаНоменклатуры = ПартииТоваровКомпании.ХарактеристикаНоменклатуры
ГДЕ
	РеализацияТоваров.Ссылка = &amp;Источник</Текст>
		</Запрос>
		<Запрос Имя="ТабличнаяЧастьПеремещения" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	РеализацияТоваров.Номенклатура КАК Номенклатура,
	ПартииТоваровКомпании.СтатусПартии КАК СтатусПартии,
	ВЫБОР 
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА 
			ПартииТоваровКомпании.Количество 
		ИНАЧЕ РеализацияТоваров.Количество КОНЕЦ 
		КАК Количество
ИЗ
	Документ.ПеремещениеТоваров.Товары КАК РеализацияТоваров
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровКомпании
		ПО РеализацияТоваров.Номенклатура = ПартииТоваровКомпании.Номенклатура И РеализацияТоваров.Ссылка = ПартииТоваровКомпании.Регистратор И РеализацияТоваров.СерияНоменклатуры = ПартииТоваровКомпании.СерияНоменклатуры И РеализацияТоваров.ХарактеристикаНоменклатуры = ПартииТоваровКомпании.ХарактеристикаНоменклатуры
		И ПартииТоваровКомпании.ВидДвижения = &amp;Приход

ГДЕ
	РеализацияТоваров.Ссылка = &amp;Источник</Текст>
		</Запрос>
		<Запрос Имя="ТабличнаяЧастьРеализации" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	РеализацияТоваров.Номенклатура КАК Номенклатура,
	РеализацияТоваров.СтавкаНДС,
	ПартииТоваровКомпании.СтатусПартии,
	ВЫБОР
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0
			ТОГДА ВЫБОР
					КОГДА РеализацияТоваров.Количество &lt;&gt; 0
							И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0
						ТОГДА ПартииТоваровКомпании.Количество * РеализацияТоваров.Коэффициент * РеализацияТоваров.Сумма / РеализацияТоваров.Количество / РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
					ИНАЧЕ 0
				КОНЕЦ
		ИНАЧЕ РеализацияТоваров.Сумма
	КОНЕЦ КАК Сумма,
	ВЫБОР
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0
			ТОГДА ВЫБОР
					КОГДА РеализацияТоваров.Количество &lt;&gt; 0
							И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0
						ТОГДА ПартииТоваровКомпании.Количество * РеализацияТоваров.Коэффициент * РеализацияТоваров.СуммаНДС / РеализацияТоваров.Количество / РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
					ИНАЧЕ 0
				КОНЕЦ
		ИНАЧЕ РеализацияТоваров.СуммаНДС
	КОНЕЦ КАК НДС,
	ВЫБОР
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0
			ТОГДА ВЫБОР
					КОГДА РеализацияТоваров.Количество &lt;&gt; 0
							И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0
							И РеализацияТоваров.Коэффициент &lt;&gt; 0
						ТОГДА РеализацияТоваров.Цена / РеализацияТоваров.Коэффициент
					ИНАЧЕ 0
				КОНЕЦ
		ИНАЧЕ ВЫБОР
				КОГДА РеализацияТоваров.Коэффициент &lt;&gt; 0
					ТОГДА РеализацияТоваров.Цена / РеализацияТоваров.Коэффициент
				ИНАЧЕ 0
			КОНЕЦ
	КОНЕЦ КАК Цена,
	ВЫБОР
		КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0
			ТОГДА ВЫБОР
					КОГДА РеализацияТоваров.Количество &lt;&gt; 0
							И РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0
						ТОГДА ПартииТоваровКомпании.Количество * РеализацияТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
					ИНАЧЕ 0
				КОНЕЦ
		ИНАЧЕ РеализацияТоваров.Количество * РеализацияТоваров.Коэффициент
	КОНЕЦ КАК Количество
ИЗ
	Документ.РеализацияТоваровУслуг.Товары КАК РеализацияТоваров
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровКомпании
		ПО РеализацияТоваров.Номенклатура = ПартииТоваровКомпании.Номенклатура
			И РеализацияТоваров.Ссылка = ПартииТоваровКомпании.Регистратор
			И (РеализацияТоваров.СерияНоменклатуры = ПартииТоваровКомпании.СерияНоменклатуры)
			И РеализацияТоваров.ХарактеристикаНоменклатуры = ПартииТоваровКомпании.ХарактеристикаНоменклатуры
ГДЕ
	РеализацияТоваров.Ссылка = &amp;Источник И
	НЕ РеализацияТоваров.Номенклатура.Комплект
	
ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	РеализацияТоваровСоставНабора.Номенклатура КАК Номенклатура,
	РеализацияТоваровТовары.СтавкаНДС,
	ПартииТоваровКомпании.СтатусПартии,
ВЫБОР КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0	ТОГДА 
	ВЫБОР КОГДА РеализацияТоваровТовары.Количество &lt;&gt; 0	И РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
		ПартииТоваровКомпании.Количество * 
			(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
				РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.Сумма) / Коэффициенты.БазаЦены 	
			ИНАЧЕ 
				РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.Сумма) / Коэффициенты.БазаКоличества
			КОНЕЦ) / 
		(РеализацияТоваровСоставНабора.Количество * РеализацияТоваровТовары.Количество) / РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	ИНАЧЕ 
		0
	КОНЕЦ
ИНАЧЕ 
	(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
		РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.Сумма) / Коэффициенты.БазаЦены 	
	ИНАЧЕ 
		РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.Сумма) / Коэффициенты.БазаКоличества
	КОНЕЦ)
КОНЕЦ,
ВЫБОР КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0	ТОГДА 
	ВЫБОР КОГДА РеализацияТоваровТовары.Количество &lt;&gt; 0	И РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
		ПартииТоваровКомпании.Количество * 
			(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
				РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.СуммаНДС) / Коэффициенты.БазаЦены 	
			ИНАЧЕ 
				РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.СуммаНДС) / Коэффициенты.БазаКоличества
			КОНЕЦ) / 
		(РеализацияТоваровСоставНабора.Количество * РеализацияТоваровТовары.Количество) / РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	ИНАЧЕ 
		0
	КОНЕЦ
ИНАЧЕ 
	(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
		РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.СуммаНДС) / Коэффициенты.БазаЦены 	
	ИНАЧЕ 
		РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.СуммаНДС) / Коэффициенты.БазаКоличества
	КОНЕЦ)
КОНЕЦ,
ВЫБОР КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0	ТОГДА 
	ВЫБОР КОГДА РеализацияТоваровТовары.Количество &lt;&gt; 0	И РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА 
		ПартииТоваровКомпании.Количество * 
			(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
				РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.Цена) / Коэффициенты.БазаЦены 	
			ИНАЧЕ 
				РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.Цена) / Коэффициенты.БазаКоличества
			КОНЕЦ) / 
		(РеализацияТоваровСоставНабора.Количество * РеализацияТоваровТовары.Количество) / РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	ИНАЧЕ 
		0
	КОНЕЦ
ИНАЧЕ 
	(ВЫБОР КОГДА Коэффициенты.БазаЦены &lt;&gt; 0 ТОГДА 
		РеализацияТоваровСоставНабора.Цена * (РеализацияТоваровТовары.Цена) / Коэффициенты.БазаЦены 	
	ИНАЧЕ 
		РеализацияТоваровСоставНабора.Количество * (РеализацияТоваровТовары.Цена) / Коэффициенты.БазаКоличества
	КОНЕЦ)
КОНЕЦ,
	ВЫБОР КОГДА ПартииТоваровКомпании.Количество &lt;&gt; 0 ТОГДА
		ПартииТоваровКомпании.Количество * РеализацияТоваровСоставНабора.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	ИНАЧЕ 
		РеализацияТоваровСоставНабора.Количество * РеализацияТоваровТовары.Количество
	КОНЕЦ
ИЗ
	Документ.РеализацияТоваровУслуг.СоставНабора КАК РеализацияТоваровСоставНабора
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровКомпании
		ПО РеализацияТоваровСоставНабора.Номенклатура = ПартииТоваровКомпании.Номенклатура
			И РеализацияТоваровСоставНабора.Ссылка = ПартииТоваровКомпании.Регистратор
			И (РеализацияТоваровСоставНабора.СерияНоменклатуры = ПартииТоваровКомпании.СерияНоменклатуры)
			И РеализацияТоваровСоставНабора.ХарактеристикаНоменклатуры = ПартииТоваровКомпании.ХарактеристикаНоменклатуры
			
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.РеализацияТоваровУслуг.Товары КАК РеализацияТоваровТовары
		ПО РеализацияТоваровСоставНабора.КлючСтроки = РеализацияТоваровТовары.КлючСтроки
			И РеализацияТоваровСоставНабора.Ссылка = РеализацияТоваровТовары.Ссылка
			
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
							РеализацияТоваровТоварыКоэфф.КлючСтроки,
							СУММА(РеализацияТоваровСоставНабораКоэфф.Цена * РеализацияТоваровСоставНабораКоэфф.Количество) КАК БазаЦены,
							СУММА(РеализацияТоваровСоставНабораКоэфф.Количество) КАК БазаКоличества
						ИЗ
							Документ.РеализацияТоваровУслуг.Товары КАК РеализацияТоваровТоварыКоэфф
							ЛЕВОЕ СОЕДИНЕНИЕ Документ.РеализацияТоваровУслуг.СоставНабора КАК РеализацияТоваровСоставНабораКоэфф
							ПО РеализацияТоваровТоварыКоэфф.КлючСтроки = РеализацияТоваровСоставНабораКоэфф.КлючСтроки
								И РеализацияТоваровТоварыКоэфф.Ссылка = РеализацияТоваровСоставНабораКоэфф.Ссылка
						ГДЕ
							РеализацияТоваровТоварыКоэфф.Ссылка = &amp;Источник И
							РеализацияТоваровТоварыКоэфф.Номенклатура.Комплект
						СГРУППИРОВАТЬ ПО
							РеализацияТоваровТоварыКоэфф.КлючСтроки) КАК Коэффициенты
		ПО РеализацияТоваровСоставНабора.КлючСтроки = Коэффициенты.КлючСтроки 

ГДЕ
	РеализацияТоваровСоставНабора.Ссылка = &amp;Источник И
	РеализацияТоваровСоставНабора.Количество &gt; 0

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	РеализацияТоваровУслугУслуги.Номенклатура,
	РеализацияТоваровУслугУслуги.СтавкаНДС,
	NULL,
	РеализацияТоваровУслугУслуги.Сумма,
	РеализацияТоваровУслугУслуги.СуммаНДС,
	РеализацияТоваровУслугУслуги.Цена,
	РеализацияТоваровУслугУслуги.Количество
ИЗ
	Документ.РеализацияТоваровУслуг.Услуги КАК РеализацияТоваровУслугУслуги
ГДЕ
	РеализацияТоваровУслугУслуги.Ссылка = &amp;Источник</Текст>
		</Запрос>
	</Запросы>
</ПравилаОбмена>